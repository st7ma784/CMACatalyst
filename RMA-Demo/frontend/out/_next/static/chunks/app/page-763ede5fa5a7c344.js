(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3230:function(e,s,t){Promise.resolve().then(t.bind(t,1675))},1675:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ew}});var r=t(3827),l=t(4090),a=t(7907),n=t(8792),i=t(6846),c=t(5562),o=t(2481),d=t(2169);let x=o.fC,m=l.forwardRef((e,s)=>{var{className:t}=e,l=(0,c._)(e,["className"]);return(0,r.jsx)(o.aV,(0,i._)({ref:s,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t)},l))});m.displayName=o.aV.displayName;let h=l.forwardRef((e,s)=>{var{className:t}=e,l=(0,c._)(e,["className"]);return(0,r.jsx)(o.xz,(0,i._)({ref:s,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t)},l))});h.displayName=o.xz.displayName;let u=l.forwardRef((e,s)=>{var{className:t}=e,l=(0,c._)(e,["className"]);return(0,r.jsx)(o.VY,(0,i._)({ref:s,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t)},l))});u.displayName=o.VY.displayName;var g=t(575),b=t(3779),p=t(7908);function j(){let[e,s]=(0,l.useState)(""),[t,a]=(0,l.useState)(""),[n,i]=(0,l.useState)(!1),[c,o]=(0,l.useState)(null),d=async()=>{if(!e||!t){alert("Please provide both notes and client name");return}i(!0);try{let s=await p.Z.post("".concat("https://api.rmatool.org.uk/api/service/notes","/convert"),{notes:e,client_name:t});o(s.data)}catch(e){var s,r;alert("Error: ".concat((null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.detail)||e.message))}finally{i(!1)}},x=e=>{navigator.clipboard.writeText(e),alert("Copied to clipboard!")};return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Notes to Client Letter"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Convert your advisor notes into simple, client-friendly language"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name"}),(0,r.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advisor Notes"}),(0,r.jsx)("textarea",{value:e,onChange:e=>s(e.target.value),rows:8,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"Paste your advisor notes here..."})]}),(0,r.jsx)("button",{onClick:d,disabled:n,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:n?"Converting...":"Convert to Client Letter"})]}),c&&(0,r.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-green-900 mb-2",children:"Conversion Successful!"}),(0,r.jsx)("p",{className:"text-green-700 text-sm",children:"Your notes have been converted to client-friendly language"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Matters Discussed"}),(0,r.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:c.matters_discussed})]}),(0,r.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-purple-900 mb-2",children:"Our Actions"}),(0,r.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:c.our_actions})]}),(0,r.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-orange-900 mb-2",children:"Your Actions"}),(0,r.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:c.your_actions})]}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900",children:"Full Letter"}),(0,r.jsx)("button",{onClick:()=>x(c.full_text),className:"text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded",children:"Copy"})]}),(0,r.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:c.full_text})]})]})]})]})}var y=t(2209);function f(){let[e,s]=(0,l.useState)(""),[t,a]=(0,l.useState)(""),[n,i]=(0,l.useState)(null),[c,o]=(0,l.useState)(!1),d=async()=>{if(!e||!t){alert("Please provide both client ID and name");return}o(!0);try{let s=localStorage.getItem("advisor_token");if(!s){alert("You must be logged in to generate QR codes"),o(!1);return}let r=await p.Z.post("".concat("https://api.rmatool.org.uk/api/service/upload","/generate-qr"),{client_id:e,client_name:t},{headers:{Authorization:"Bearer ".concat(s)}});i(r.data);let l=JSON.parse(localStorage.getItem("known_clients")||"[]");l.includes(e)||(l.push(e),localStorage.setItem("known_clients",JSON.stringify(l)))}catch(e){var s,r;alert("Error: ".concat((null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.detail)||e.message))}finally{o(!1)}};return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Generate Client QR Code"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Create a QR code for clients to access their document upload portal"}),(0,r.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client ID"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>s(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., CLIENT001"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name"}),(0,r.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., John Smith"})]}),(0,r.jsx)("button",{onClick:d,disabled:c,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:c?"Generating...":"Generate QR Code"})]}),n&&(0,r.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-green-900 mb-2",children:"QR Code Generated!"}),(0,r.jsx)("p",{className:"text-green-700 text-sm",children:"Client can scan this code to access their upload portal"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg border-2 border-gray-200",children:(0,r.jsx)(y.tv,{id:"qr-code-svg",value:n.upload_url,size:256,level:"H",includeMargin:!0})}),(0,r.jsx)("div",{className:"text-center space-y-2",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Upload URL: ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:n.upload_url})]})}),(0,r.jsx)("button",{onClick:()=>{if(!n)return;let s=document.getElementById("qr-code-svg");if(!s)return;let t=new XMLSerializer().serializeToString(s),r=document.createElement("canvas"),l=r.getContext("2d"),a=new Image;r.width=512,r.height=512,a.onload=()=>{null==l||l.drawImage(a,0,0);let s=r.toDataURL("image/png"),t=document.createElement("a");t.download="qr_".concat(e,".png"),t.href=s,t.click()},a.src="data:image/svg+xml;base64,"+btoa(t)},className:"bg-indigo-600 text-white py-2 px-6 rounded-md hover:bg-indigo-700 transition-colors",children:"Download QR Code"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Instructions for Client:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside text-blue-800 space-y-1 text-sm",children:[(0,r.jsx)("li",{children:"Scan the QR code with your phone camera"}),(0,r.jsx)("li",{children:"You'll be taken to your personal upload page"}),(0,r.jsx)("li",{children:"Upload any documents you need to share"}),(0,r.jsx)("li",{children:"Documents will be automatically processed and organized"})]})]})]})]})}var N=t(3482);let v=()=>N.Y.rag();function w(){let[e,s]=(0,l.useState)(""),[t,a]=(0,l.useState)([]),[n,i]=(0,l.useState)(!1),[c,o]=(0,l.useState)(!0),[d,x]=(0,l.useState)(!0),m=e=>{let s=e.toLowerCase();return e.split(" ").length>15||s.includes(" and ")||s.includes(" or ")||s.includes(" vs ")||s.includes("compare")||s.includes("difference")||s.includes("steps to")||s.includes("how do i")||s.includes("what if")||s.includes("when should")||s.includes("which is better")},h=async()=>{if(!e.trim())return;let t={role:"user",content:e};a(e=>[...e,t]),s(""),i(!0);try{let s;let t={"Content-Type":"application/json"},r=localStorage.getItem("advisor_token");r&&(t.Authorization="Bearer ".concat(r));let l=c&&m(e),n=l?"/agentic-query":"/query";s=l?await p.Z.post("".concat(v()).concat(n),{question:e,model:"llama3.2",max_iterations:3,top_k:4,show_reasoning:d},{headers:t}):await p.Z.post("".concat(v()).concat(n),{question:e},{headers:t});let i={role:"assistant",content:s.data.answer,sources:s.data.sources,retrieved_chunks:s.data.retrieved_chunks,is_agentic:l,reasoning_steps:s.data.reasoning_steps,iterations_used:s.data.iterations_used,confidence:s.data.confidence};a(e=>[...e,i])}catch(s){var r,l;let e={role:"assistant",content:"Error: ".concat((null===(l=s.response)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.detail)||s.message)};a(s=>[...s,e])}finally{i(!1)}};return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 h-[calc(100vh-16rem)] flex flex-col",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Ask the Manuals"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("input",{type:"checkbox",checked:c,onChange:e=>o(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-gray-700",children:"\uD83E\uDD16 Agent Mode"})]}),c&&(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)("input",{type:"checkbox",checked:d,onChange:e=>x(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-gray-700",children:"\uD83E\uDDE0 Show Reasoning"})]})]})]}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Query training manuals and documentation",c&&(0,r.jsx)("span",{className:"ml-2 text-sm text-blue-600",children:"• Agent will analyze complex questions and plan optimal search strategy"})]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto mb-4 space-y-4 bg-gray-50 rounded-lg p-4",children:[0===t.length?(0,r.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[(0,r.jsx)("p",{className:"mb-2",children:"No messages yet"}),(0,r.jsx)("p",{className:"text-sm",children:"Ask a question about the training manuals"}),c&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg max-w-md mx-auto",children:[(0,r.jsx)("p",{className:"text-sm text-blue-800 font-semibold mb-2",children:"\uD83E\uDD16 Agent Mode Active"}),(0,r.jsx)("p",{className:"text-xs text-blue-700",children:"Complex questions will be analyzed and answered using multi-step reasoning"})]})]}):t.map((e,s)=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"max-w-[80%] rounded-lg p-4 ".concat("user"===e.role?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"),children:[e.is_agentic&&(0,r.jsxs)("div",{className:"mb-2 flex items-center gap-2 text-xs",children:[(0,r.jsx)("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-semibold",children:"\uD83E\uDD16 Agent Response"}),e.iterations_used&&(0,r.jsxs)("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:[e.iterations_used," iteration",e.iterations_used>1?"s":""]})]}),(0,r.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}),e.confidence&&(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-xs font-semibold text-gray-600",children:"Confidence:"}),(0,r.jsx)("span",{className:"text-xs font-medium ".concat(e.confidence.startsWith("HIGH")?"text-green-600":e.confidence.startsWith("MEDIUM")?"text-yellow-600":"text-red-600"),children:e.confidence})]})}),e.reasoning_steps&&e.reasoning_steps.length>0&&(0,r.jsxs)("details",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,r.jsxs)("summary",{className:"text-xs font-semibold text-purple-600 cursor-pointer hover:text-purple-700 flex items-center gap-1",children:["\uD83E\uDDE0 Agent Reasoning (",e.reasoning_steps.length," steps)"]}),(0,r.jsx)("div",{className:"mt-2 space-y-2",children:e.reasoning_steps.map((e,s)=>(0,r.jsxs)("div",{className:"text-xs bg-purple-50 p-3 rounded border border-purple-200",children:[(0,r.jsxs)("div",{className:"font-semibold text-purple-900 mb-1 flex items-center gap-1",children:[(0,r.jsx)("span",{className:"bg-purple-200 text-purple-800 px-2 py-0.5 rounded-full text-xs",children:s+1}),e.step.toUpperCase(),": ",e.description]}),(0,r.jsx)("div",{className:"text-gray-700 ml-6",children:(0,r.jsx)("pre",{className:"whitespace-pre-wrap text-xs bg-white p-2 rounded border border-purple-100 overflow-x-auto",children:JSON.stringify(e.result,null,2)})})]},s))})]}),e.sources&&e.sources.length>0&&(0,r.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,r.jsxs)("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:["\uD83D\uDCDA Sources (",e.sources.length,"):"]}),(0,r.jsx)("ul",{className:"text-xs text-gray-600 space-y-1",children:e.sources.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"mr-1",children:"•"}),(0,r.jsx)("span",{children:e})]},s))})]}),e.retrieved_chunks&&e.retrieved_chunks.length>0&&(0,r.jsxs)("details",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,r.jsxs)("summary",{className:"text-xs font-semibold text-blue-600 cursor-pointer hover:text-blue-700",children:["\uD83D\uDD0D View Retrieved Chunks (",e.retrieved_chunks.length,")"]}),(0,r.jsx)("div",{className:"mt-2 space-y-2 max-h-60 overflow-y-auto",children:e.retrieved_chunks.map((e,s)=>(0,r.jsxs)("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-200",children:[(0,r.jsxs)("div",{className:"font-semibold text-gray-700 mb-1",children:[e.source," (Chunk ",e.chunk_id,")"]}),(0,r.jsx)("div",{className:"text-gray-600 whitespace-pre-wrap text-xs",children:e.text})]},s))})]})]})},s)),n&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),c&&(0,r.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"Agent is thinking..."})]})})})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("textarea",{value:e,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())},rows:3,placeholder:"Ask a question about the manuals...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,r.jsx)("button",{onClick:h,disabled:n||!e.trim(),className:"px-6 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"Send"})]})]})}var k=t(5671),S=t(2782),C=t(2647),A=t(9069),D=t(6578),P=t(8994),R=t(8670),_=t(9475);function I(){let[e,s]=(0,l.useState)(""),[t,a]=(0,l.useState)(""),[n,i]=(0,l.useState)(null),[c,o]=(0,l.useState)(null),[d,x]=(0,l.useState)([]),[m,h]=(0,l.useState)(!1),[u,b]=(0,l.useState)(!1),[p,j]=(0,l.useState)(!1),[y,f]=(0,l.useState)(""),N="https://api.rmatool.org.uk/api/service/upload";(0,l.useEffect)(()=>{v()},[]),(0,l.useEffect)(()=>{e?w():o(null)},[e]);let v=async()=>{j(!0);try{let e=localStorage.getItem("advisor_token");if(!e)return;let s=await fetch("".concat(N,"/clients"),{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();x(e.clients||[])}}catch(e){console.error("Error loading clients:",e)}finally{j(!1)}},w=async()=>{b(!0),f("");try{let s=localStorage.getItem("advisor_token");if(!s){f("Please login first");return}let t=await fetch("".concat(N,"/client-stats/").concat(e),{headers:{Authorization:"Bearer ".concat(s)}});if(t.ok){let e=await t.json();o(e)}else 404===t.status?o({client_id:e,total_chunks:0,total_documents:0,documents:[],status:"not_initialized"}):f("Failed to load client statistics")}catch(e){console.error("Error loading stats:",e)}finally{b(!1)}},I=async()=>{if(!e.trim()||!t.trim()){f("Please enter both client ID and question");return}h(!0),f(""),i(null);try{let s=localStorage.getItem("advisor_token");if(!s){f("Please login first"),h(!1);return}let r=await fetch("".concat(N,"/query-client-documents"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({client_id:e,question:t,model:"llama3.2"})});if(!r.ok){let e=await r.json();throw Error(e.detail||"Failed to query documents")}let l=await r.json();i(l)}catch(e){f(e.message||"An error occurred while searching")}finally{h(!1)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(k.Zb,{children:[(0,r.jsxs)(k.Ol,{children:[(0,r.jsx)(k.ll,{children:"Search Client Documents"}),(0,r.jsx)(k.SZ,{children:"Use AI to search and query a client's uploaded documents"})]}),(0,r.jsxs)(k.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(C._,{htmlFor:"clientId",children:"Client ID"}),(0,r.jsxs)("select",{id:"clientId",value:e,onChange:e=>s(e.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,r.jsx)("option",{value:"",children:"Select a client..."}),p?(0,r.jsx)("option",{value:"",disabled:!0,children:"Loading clients..."}):0===d.length?(0,r.jsx)("option",{value:"",disabled:!0,children:"No clients found"}):d.map(e=>(0,r.jsxs)("option",{value:e.client_id,children:[e.client_name," (",e.client_id,") - ",e.document_count," doc(s)"]},e.client_id))]})]}),c&&"ready"===c.status&&(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(D.Z,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)("span",{className:"font-semibold text-green-900",children:"Documents Available"})]}),(0,r.jsxs)("div",{className:"text-sm text-green-800 space-y-1",children:[(0,r.jsxs)("p",{children:[c.total_documents," document(s) indexed"]}),(0,r.jsxs)("p",{children:[c.total_chunks," searchable chunks"]}),c.documents.length>0&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("p",{className:"font-medium",children:"Documents:"}),(0,r.jsx)("ul",{className:"list-disc list-inside",children:c.documents.map((e,s)=>(0,r.jsx)("li",{className:"text-xs",children:e},s))})]})]})]}),c&&"not_initialized"===c.status&&(0,r.jsx)(A.bZ,{children:(0,r.jsx)(A.X,{children:"No documents have been uploaded for this client yet. Upload documents first to enable search."})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(C._,{htmlFor:"question",children:"Question"}),(0,r.jsx)(S.I,{id:"question",placeholder:"e.g., What debts does this client have?",value:t,onChange:e=>a(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),I())}})]}),(0,r.jsx)(g.z,{onClick:I,disabled:m||!e.trim()||!t.trim(),className:"w-full",children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.Z,{className:"mr-2 h-4 w-4"}),"Search Documents"]})}),y&&(0,r.jsx)(A.bZ,{variant:"destructive",children:(0,r.jsx)(A.X,{children:y})})]})]}),n&&(0,r.jsxs)(k.Zb,{children:[(0,r.jsxs)(k.Ol,{children:[(0,r.jsx)(k.ll,{children:"Search Results"}),(0,r.jsxs)(k.SZ,{children:["Based on ",n.sources.length," relevant section(s) from client documents"]})]}),(0,r.jsxs)(k.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Answer"}),(0,r.jsx)("p",{className:"text-sm text-blue-800 whitespace-pre-wrap",children:n.answer})]}),n.sources.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-sm",children:"Sources"}),(0,r.jsx)("div",{className:"space-y-2",children:n.sources.map((e,s)=>(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,r.jsxs)("div",{className:"flex items-start gap-2 mb-2",children:[(0,r.jsx)(_.Z,{className:"h-4 w-4 text-gray-600 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.filename}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:["Section ",e.chunk+1]})]})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-700 italic",children:['"',e.text_preview,'"']})]},s))})]})]})]}),(0,r.jsxs)(k.Zb,{className:"bg-gray-50",children:[(0,r.jsx)(k.Ol,{children:(0,r.jsx)(k.ll,{className:"text-sm",children:"How to Use"})}),(0,r.jsxs)(k.aY,{className:"text-xs space-y-2",children:[(0,r.jsx)("p",{children:"1. Enter the client ID (same ID used for document uploads)"}),(0,r.jsx)("p",{children:"2. Ask questions about the client's documents in natural language"}),(0,r.jsx)("p",{children:"3. The AI will search through all uploaded documents and provide answers with sources"}),(0,r.jsx)("p",{className:"font-semibold mt-4",children:"Example Questions:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:[(0,r.jsx)("li",{children:"What debts does this client have?"}),(0,r.jsx)("li",{children:"What is the total amount owed?"}),(0,r.jsx)("li",{children:"When is the payment deadline?"}),(0,r.jsx)("li",{children:"Who is the creditor for the largest debt?"}),(0,r.jsx)("li",{children:"What income sources are documented?"})]})]})]})]})}var T=t(3276),E=t(4562),L=t(3459),U=t(695),G=t(7404),O=t(7451),W=t(403),M=t(6034),Z=t(7913),q=t(834),B=t(8998),F=t(9392);let z="https://api.rmatool.org.uk/api/service/rag",V=()=>{try{let e=new URL(z);if("localhost"===e.hostname||"127.0.0.1"===e.hostname){let s=window.location.hostname;if(s&&"localhost"!==s&&"127.0.0.1"!==s)return"".concat(window.location.protocol,"//").concat(s,":").concat(e.port)}return z}catch(e){return z}};function Y(){let[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)(null),[n,i]=(0,l.useState)(!0),[c,o]=(0,l.useState)("");(0,l.useEffect)(()=>{d()},[]);let d=async()=>{i(!0),o("");try{let t=await fetch("".concat(V(),"/stats"));if(!t.ok)throw Error("Failed to fetch stats");let r=await t.json();a(r);let l=await fetch("".concat(V(),"/debug/sources"));if(!l.ok)throw Error("Failed to fetch sources");let n=await l.json(),i=[];for(let s of n.sources||[])try{let t=await fetch("".concat(V(),"/debug/documents?source=").concat(encodeURIComponent(s),"&limit=1000"));if(t.ok){var e;let r=(await t.json()).documents||[],l=r.reduce((e,s)=>{var t;return e+((null===(t=s.text)||void 0===t?void 0:t.length)||0)},0),a=(null===(e=r[0])||void 0===e?void 0:e.text)||"No text available";i.push({filename:s,chunk_count:r.length,total_characters:l,preview:a.substring(0,300)+(a.length>300?"...":"")})}}catch(e){console.error("Error loading details for ".concat(s,":"),e)}s(i)}catch(e){o(e instanceof Error?e.message:"Failed to load manuals")}finally{i(!1)}},x=e=>e.toLocaleString(),m=e=>Math.ceil(e/2e3);return n?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,r.jsx)(q.Z,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,r.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading manual information..."})]}):c?(0,r.jsxs)(A.bZ,{variant:"destructive",children:[(0,r.jsx)(B.Z,{className:"h-4 w-4"}),(0,r.jsx)(A.X,{children:c})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(k.Zb,{children:(0,r.jsx)(k.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Manuals"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),(0,r.jsx)(F.Z,{className:"h-8 w-8 text-blue-600"})]})})}),(0,r.jsx)(k.Zb,{children:(0,r.jsx)(k.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Chunks"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null==t?void 0:t.total_chunks)?x(t.total_chunks):"0"})]}),(0,r.jsx)(T.Z,{className:"h-8 w-8 text-green-600"})]})})}),(0,r.jsx)(k.Zb,{children:(0,r.jsx)(k.aY,{className:"pt-6",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Status"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-green-600 flex items-center gap-2",children:[(0,r.jsx)(D.Z,{className:"h-5 w-5"}),(null==t?void 0:t.status)||"Unknown"]})]})})})})]}),(0,r.jsxs)(k.Zb,{children:[(0,r.jsx)(k.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(k.ll,{children:"Ingested Manuals"}),(0,r.jsx)(k.SZ,{children:"Detailed information about each manual in the RAG system"})]}),(0,r.jsxs)(g.z,{onClick:d,variant:"outline",size:"sm",children:[(0,r.jsx)(q.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),(0,r.jsx)(k.aY,{children:0===e.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(_.Z,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"No manuals have been ingested yet."}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Use the ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"/ingest-pdf"})," endpoint to add manuals."]})]}):(0,r.jsx)("div",{className:"space-y-4",children:e.map((e,s)=>(0,r.jsx)(k.Zb,{className:"bg-gray-50",children:(0,r.jsx)(k.aY,{className:"pt-6",children:(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,r.jsx)(_.Z,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 text-lg mb-2 break-words",children:e.filename}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Est. Pages"}),(0,r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:m(e.total_characters)})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Characters"}),(0,r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:x(e.total_characters)})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Chunks"}),(0,r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:e.chunk_count})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Avg Chunk Size"}),(0,r.jsx)("p",{className:"text-xl font-bold text-gray-900",children:Math.round(e.total_characters/e.chunk_count)})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"TEXT PREVIEW (First 300 characters)"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 font-mono whitespace-pre-wrap",children:e.preview})]})]})]})})})})},s))})})]}),(0,r.jsx)(k.Zb,{className:"bg-blue-50 border-blue-200",children:(0,r.jsxs)(k.aY,{className:"pt-6",children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"About These Statistics"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Est. Pages:"})," Estimated page count based on ~2000 characters per page"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Characters:"})," Total characters extracted from the PDF"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Chunks:"})," Number of text segments stored in the vector database"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Avg Chunk Size:"})," Average characters per chunk (target: 1000)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Text Preview:"})," First 300 characters of the extracted text to verify quality"]})]})]})})]})}function H(){let[e,s]=(0,l.useState)("usage");return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 h-[calc(100vh-16rem)] flex",children:[(0,r.jsxs)("div",{className:"w-64 border-r border-gray-200 pr-6 mr-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-900",children:"Documentation"}),(0,r.jsxs)("nav",{className:"space-y-2",children:[(0,r.jsxs)("button",{onClick:()=>s("manuals"),className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-left transition-colors ".concat("manuals"===e?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(T.Z,{className:"h-5 w-5"}),"Ingested Manuals"]}),(0,r.jsxs)("button",{onClick:()=>s("usage"),className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-left transition-colors ".concat("usage"===e?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(E.Z,{className:"h-5 w-5"}),"Using for Money Advice"]}),(0,r.jsxs)("button",{onClick:()=>s("ai-architecture"),className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-left transition-colors ".concat("ai-architecture"===e?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(L.Z,{className:"h-5 w-5"}),"AI & Privacy"]}),(0,r.jsxs)("button",{onClick:()=>s("deployment"),className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-left transition-colors ".concat("deployment"===e?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(U.Z,{className:"h-5 w-5"}),"Local Deployment"]}),(0,r.jsxs)("button",{onClick:()=>s("aws"),className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-left transition-colors ".concat("aws"===e?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(G.Z,{className:"h-5 w-5"}),"AWS Deployment"]}),(0,r.jsxs)("button",{onClick:()=>s("domain"),className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-left transition-colors ".concat("domain"===e?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(O.Z,{className:"h-5 w-5"}),"Domain Registration"]}),(0,r.jsxs)("button",{onClick:()=>s("api-reference"),className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-left transition-colors ".concat("api-reference"===e?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(W.Z,{className:"h-5 w-5"}),"API Reference"]}),(0,r.jsxs)("button",{onClick:()=>s("n8n-workflows"),className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-left transition-colors ".concat("n8n-workflows"===e?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(M.Z,{className:"h-5 w-5"}),"N8N Workflows"]}),(0,r.jsxs)("button",{onClick:()=>s("troubleshooting"),className:"w-full flex items-center gap-3 px-4 py-2 rounded-md text-left transition-colors ".concat("troubleshooting"===e?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(Z.Z,{className:"h-5 w-5"}),"Troubleshooting"]})]})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto",children:["manuals"===e&&(0,r.jsx)(Y,{}),"usage"===e&&(0,r.jsx)(Q,{}),"ai-architecture"===e&&(0,r.jsx)(K,{}),"deployment"===e&&(0,r.jsx)(X,{}),"aws"===e&&(0,r.jsx)($,{}),"domain"===e&&(0,r.jsx)(J,{}),"api-reference"===e&&(0,r.jsx)(ee,{}),"n8n-workflows"===e&&(0,r.jsx)(es,{}),"troubleshooting"===e&&(0,r.jsx)(et,{})]})]})}function Q(){return(0,r.jsxs)("div",{className:"prose max-w-none",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Using RMA Dashboard for Money Advice"}),(0,r.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(L.Z,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Purpose"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"This dashboard helps money advisors streamline client communication, document management, and access training materials efficiently."})]})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"1. Notes to CoA (Course of Action)"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Purpose"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"Convert technical advisor notes into clear, client-friendly language. The AI automatically structures your notes into three sections that clients can easily understand."}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"How to Use"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-3 text-gray-700 mb-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Enter Client Name:"}),' Type the client\'s full name (e.g., "John Smith")']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Paste Your Notes:"})," Copy your case notes from your system and paste them. These can include:",(0,r.jsxs)("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1",children:[(0,r.jsx)("li",{children:"Debt amounts and creditors"}),(0,r.jsx)("li",{children:"Income and expenditure details"}),(0,r.jsx)("li",{children:"Recommended actions (DMP, IVA, bankruptcy, etc.)"}),(0,r.jsx)("li",{children:"Required documents"}),(0,r.jsx)("li",{children:"Next steps and deadlines"})]})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Click Convert:"})," The AI processes your notes (takes 5-15 seconds)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Review Output:"})," Check the three sections:",(0,r.jsxs)("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Matters Discussed:"})," What you talked about in simple terms"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Our Actions:"})," What you (the advisor) will do"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Your Actions:"})," What the client needs to do"]})]})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Copy and Use:"}),' Click the "Copy" button to copy the full letter, then paste into your email or letter system']})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Example Workflow"}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900 mb-2",children:"Your Technical Notes:"}),(0,r.jsx)("pre",{className:"text-sm text-gray-700 bg-white p-3 rounded border border-gray-200 overflow-x-auto",children:"Client: Sarah Johnson\nDebts: \xa323,400 across 5 creditors\n- MBNA CC: \xa38,200\n- Barclays loan: \xa37,500\n- Santander CC: \xa34,200\n- Catalogue debt: \xa32,100\n- Council tax arrears: \xa31,400\n\nIncome: \xa31,650/mo (Universal Credit + part-time work)\nExpenditure: \xa31,520/mo\nSurplus: \xa3130/mo\n\nRecommended DMP via StepChange\nClient agreed, will contact creditors\nNeed 3 months bank statements\nPriority: Council tax payment plan first"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900 mb-2 mt-4",children:"Generated Client Letter:"}),(0,r.jsxs)("div",{className:"text-sm text-gray-700 bg-white p-3 rounded border border-gray-200",children:[(0,r.jsx)("p",{className:"mb-2",children:"Dear Sarah,"}),(0,r.jsx)("p",{className:"font-semibold mb-1",children:"MATTERS DISCUSSED:"}),(0,r.jsx)("p",{className:"mb-3",children:"We talked about your debts totaling \xa323,400 with five different companies. We looked at your income of \xa31,650 per month and your monthly expenses of \xa31,520, which leaves you with \xa3130 that you could use to pay towards your debts."}),(0,r.jsx)("p",{className:"font-semibold mb-1",children:"OUR ACTIONS:"}),(0,r.jsx)("p",{className:"mb-3",children:"We will help you set up a Debt Management Plan with StepChange, a charity that will work with your creditors on your behalf. We will also contact the council to arrange a payment plan for your council tax arrears, as this is a priority debt."}),(0,r.jsx)("p",{className:"font-semibold mb-1",children:"YOUR ACTIONS:"}),(0,r.jsx)("p",{className:"mb-3",children:"You need to gather your bank statements from the last three months and send them to us. These will help StepChange when they contact your creditors."})]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Best Practices"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"Include all relevant financial details in your notes"}),(0,r.jsx)("li",{children:"Mention specific creditors and amounts"}),(0,r.jsx)("li",{children:"Note any priority debts (council tax, rent, utilities)"}),(0,r.jsx)("li",{children:"List required documents clearly"}),(0,r.jsx)("li",{children:"Always review the output before sending to clients"}),(0,r.jsx)("li",{children:"Edit the generated text if needed for your specific case"})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"2. Client QR Codes"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Purpose"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"Create QR codes that clients can scan with their phones to access a secure document upload portal. This eliminates the need for clients to email sensitive documents."}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"How to Use"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-3 text-gray-700 mb-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Create Client ID:"})," Use a consistent format like CLIENT001, JS_2024_001, etc."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Enter Client Name:"})," Full name for your records"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Generate QR Code:"})," Click to create the code"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Download:"})," Save the QR code image"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Share with Client:"})," Include in letters, emails, or print it out"]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Client Instructions"}),(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("p",{className:"font-semibold text-green-900 mb-2",children:"Share these steps with your clients:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-green-800 text-sm",children:[(0,r.jsx)("li",{children:"Open your phone's camera app"}),(0,r.jsx)("li",{children:"Point the camera at the QR code"}),(0,r.jsx)("li",{children:"Tap the notification that appears"}),(0,r.jsx)("li",{children:"You'll see a secure upload page"}),(0,r.jsx)("li",{children:'Tap "Choose Files" and select your documents'}),(0,r.jsx)("li",{children:'Tap "Upload" when ready'})]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Document Management"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"Once clients upload documents:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"Documents are automatically converted to searchable text"}),(0,r.jsx)("li",{children:"PDFs and images are processed using OCR"}),(0,r.jsx)("li",{children:"You can access all client documents through the authenticated portal"}),(0,r.jsx)("li",{children:"Documents are organized by client ID"}),(0,r.jsx)("li",{children:"Both original files and processed markdown are saved"})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"3. Ask the Manuals"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Purpose"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"Quickly find information from training manuals, policies, and procedures without manually searching through PDFs. The AI understands context and provides relevant answers with source citations."}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"How to Use"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-3 text-gray-700 mb-4",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Type Your Question:"})," Ask in natural language, as if asking a colleague"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Review Answer:"})," The AI provides information from the manuals"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Check Sources:"})," See which manuals the answer came from"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Follow Up:"})," Ask clarifying questions in the same conversation"]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Example Questions"}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6 space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Income & Expenditure:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-700 ml-4",children:[(0,r.jsx)("li",{children:'"How do I calculate disposable income?"'}),(0,r.jsx)("li",{children:'"What are allowable expenses for a DMP?"'}),(0,r.jsx)("li",{children:'"How should I treat irregular income?"'})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Debt Solutions:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-700 ml-4",children:[(0,r.jsx)("li",{children:'"What\'s the difference between DMP and DRO?"'}),(0,r.jsx)("li",{children:'"When should I recommend bankruptcy?"'}),(0,r.jsx)("li",{children:'"What are the eligibility criteria for an IVA?"'})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Priority Debts:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-700 ml-4",children:[(0,r.jsx)("li",{children:'"How do I handle council tax arrears?"'}),(0,r.jsx)("li",{children:'"What\'s the process for rent arrears?"'}),(0,r.jsx)("li",{children:'"Priority order for multiple priority debts?"'})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Procedures:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-700 ml-4",children:[(0,r.jsx)("li",{children:'"What documents do I need for a full money advice session?"'}),(0,r.jsx)("li",{children:'"How do I refer to a specialist debt advisor?"'}),(0,r.jsx)("li",{children:'"What\'s the escalation process for vulnerable clients?"'})]})]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Tips for Better Answers"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"Be specific in your questions"}),(0,r.jsx)("li",{children:'Include context when relevant (e.g., "for a single parent with DLA")'}),(0,r.jsx)("li",{children:"Ask follow-up questions to drill down"}),(0,r.jsx)("li",{children:"Check the source documents if you need more detail"}),(0,r.jsx)("li",{children:"Verify critical information with your supervisor"})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Data Protection & Security"}),(0,r.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(L.Z,{className:"h-5 w-5 text-yellow-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Important Reminders"}),(0,r.jsxs)("ul",{className:"text-sm text-yellow-700 list-disc list-inside mt-2 space-y-1",children:[(0,r.jsx)("li",{children:"All data is processed locally on your infrastructure"}),(0,r.jsx)("li",{children:"Client documents are stored securely with authentication"}),(0,r.jsx)("li",{children:"Never share login credentials"}),(0,r.jsx)("li",{children:"Follow your organization's data protection policies"}),(0,r.jsx)("li",{children:"Log out when leaving your workstation"}),(0,r.jsx)("li",{children:"Report any security concerns immediately"})]})]})]})})]})}function K(){return(0,r.jsxs)("div",{className:"prose max-w-none",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"AI Architecture & Privacy"}),(0,r.jsx)("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(L.Z,{className:"h-5 w-5 text-green-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"\uD83D\uDD12 Privacy First"}),(0,r.jsx)("p",{className:"text-sm text-green-700",children:"All AI processing happens locally on your infrastructure. No client data, manual content, or queries are ever sent to external servers or third-party AI services."})]})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Current Deployment Architecture"}),(0,r.jsx)("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-6 mb-8",children:(0,r.jsxs)("div",{className:"font-mono text-sm",children:[(0,r.jsx)("div",{className:"text-center mb-6",children:(0,r.jsx)("div",{className:"inline-block bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-6 py-3 rounded-lg shadow-lg",children:(0,r.jsx)("div",{className:"font-bold text-lg",children:"\uD83C\uDF10 Users"})})}),(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"text-gray-400 text-2xl",children:"↓"})}),(0,r.jsx)("div",{className:"text-center mb-6",children:(0,r.jsxs)("div",{className:"inline-block bg-blue-50 border-2 border-blue-300 px-6 py-4 rounded-lg",children:[(0,r.jsx)("div",{className:"font-bold text-blue-900 mb-1",children:"Frontend"}),(0,r.jsx)("div",{className:"text-sm text-blue-700",children:"https://rmatool.org.uk"}),(0,r.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"Cloudflare Pages (Global CDN)"})]})}),(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"text-gray-400 text-2xl",children:"↓"})}),(0,r.jsx)("div",{className:"text-center mb-6",children:(0,r.jsxs)("div",{className:"inline-block bg-purple-50 border-2 border-purple-300 px-6 py-4 rounded-lg",children:[(0,r.jsx)("div",{className:"font-bold text-purple-900 mb-1",children:"Coordinator API"}),(0,r.jsx)("div",{className:"text-sm text-purple-700",children:"https://api.rmatool.org.uk"}),(0,r.jsx)("div",{className:"text-xs text-purple-600 mt-1",children:"Cloudflare Workers (Edge Network)"}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["• Authentication",(0,r.jsx)("br",{}),"• Worker Registry (KV Storage)",(0,r.jsx)("br",{}),"• Service Routing & Load Balancing"]})]})}),(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"text-gray-400 text-2xl",children:"↓"})}),(0,r.jsx)("div",{className:"text-center mb-2 text-gray-600 text-sm",children:"Routes requests to:"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto mt-4",children:[(0,r.jsxs)("div",{className:"bg-green-50 border-2 border-green-300 p-4 rounded-lg",children:[(0,r.jsx)("div",{className:"font-bold text-green-900 mb-2",children:"\uD83D\uDCBB CPU Workers"}),(0,r.jsxs)("div",{className:"text-xs text-green-700 space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded",children:[(0,r.jsx)("span",{children:"Upload Service"}),(0,r.jsx)("span",{className:"text-gray-500",children:":8103"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded",children:[(0,r.jsx)("span",{children:"Notes Service"}),(0,r.jsx)("span",{className:"text-gray-500",children:":8100"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded",children:[(0,r.jsx)("span",{children:"NER Service"}),(0,r.jsx)("span",{className:"text-gray-500",children:":8108"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 mt-2 pt-2 border-t",children:[(0,r.jsx)("strong",{children:"Tier 2/3:"})," 4+ CPU cores",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"Location:"})," Docker containers anywhere",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"Access:"})," Cloudflare Tunnels"]})]}),(0,r.jsxs)("div",{className:"bg-orange-50 border-2 border-orange-300 p-4 rounded-lg",children:[(0,r.jsx)("div",{className:"font-bold text-orange-900 mb-2",children:"\uD83D\uDE80 GPU Workers"}),(0,r.jsxs)("div",{className:"text-xs text-orange-700 space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded",children:[(0,r.jsx)("span",{children:"RAG Service"}),(0,r.jsx)("span",{className:"text-gray-500",children:":8102"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded",children:[(0,r.jsx)("span",{children:"Vision AI (LLaVA)"}),(0,r.jsx)("span",{className:"text-gray-500",children:":8104"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded",children:[(0,r.jsx)("span",{children:"Text AI (Llama)"}),(0,r.jsx)("span",{className:"text-gray-500",children:":8105"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 mt-2 pt-2 border-t",children:[(0,r.jsx)("strong",{children:"Tier 1:"})," GPU + VRAM",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"Location:"})," Docker containers anywhere",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"Access:"})," Cloudflare Tunnels"]})]})]}),(0,r.jsx)("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-300 rounded-lg",children:(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,r.jsx)("strong",{className:"text-gray-900",children:"How it Works:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside mt-2 space-y-1 text-xs",children:[(0,r.jsx)("li",{children:"Workers register with coordinator via HTTPS, providing their tunnel URL"}),(0,r.jsx)("li",{children:"Coordinator tracks worker health via 30-second heartbeats"}),(0,r.jsx)("li",{children:"Frontend requests go to coordinator at api.rmatool.org.uk"}),(0,r.jsx)("li",{children:"Coordinator routes to healthy worker with lowest load"}),(0,r.jsx)("li",{children:"Worker processes request through its service containers"}),(0,r.jsx)("li",{children:"Response returns through Cloudflare Tunnel to user"})]})]})}),(0,r.jsx)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-300 rounded-lg",children:(0,r.jsxs)("div",{className:"text-xs text-blue-900",children:[(0,r.jsx)("strong",{children:"\uD83D\uDCB0 Cost:"})," $0/month",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"\uD83C\uDF0D Global:"})," Frontend and API on Cloudflare edge (300+ locations)",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"\uD83D\uDD12 Secure:"})," All traffic over HTTPS with TLS 1.3",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"\uD83D\uDCC8 Scalable:"})," Add workers anywhere with Docker - auto-registration"]})})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"How Our AI Services Work"}),(0,r.jsx)("p",{className:"text-gray-700 mb-6",children:"RMA Dashboard uses three main AI services to help money advisors work more efficiently while maintaining complete data privacy. All services run locally on your server using open-source models."}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"1. Notes to CoA Service"}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"What it does:"}),(0,r.jsx)("p",{className:"text-gray-700 mb-3",children:"Converts your technical advisor notes into clear, client-friendly letters with three structured sections:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 space-y-1 mb-3",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Matters Discussed:"})," Plain English summary of the consultation"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Our Actions:"})," What you (the advisor) will do next"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Your Actions:"})," What the client needs to do"]})]}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2 mt-4",children:"How it works:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside text-gray-700 space-y-2 text-sm",children:[(0,r.jsx)("li",{children:"You paste your technical case notes into the system"}),(0,r.jsx)("li",{children:"The AI model (Llama 3.2) reads and understands the content"}),(0,r.jsx)("li",{children:"It restructures the information following Money Advice best practices"}),(0,r.jsx)("li",{children:"Generates clear, empathetic language suitable for clients"}),(0,r.jsx)("li",{children:"Returns the formatted letter in ~10-15 seconds"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mt-3",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:"\uD83D\uDD12 Privacy:"}),(0,r.jsx)("p",{className:"text-xs text-blue-800",children:"Your notes never leave your server. Processing happens entirely on your local infrastructure."})]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"2. Document Processing Service"}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"What it does:"}),(0,r.jsx)("p",{className:"text-gray-700 mb-3",children:'Converts client-uploaded documents (PDFs, images) into searchable text and analyzes them for risk assessment ("Should I worry about this?" button).'}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2 mt-4",children:"How it works:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside text-gray-700 space-y-2 text-sm",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Text Extraction:"})," Uses OCR (Tesseract) to read scanned documents"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Vision Analysis:"}),' LLaVA model (13B parameters) "sees" and understands document layouts']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Content Understanding:"})," Identifies debt letters, court notices, payment demands, etc."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Risk Assessment:"})," Evaluates urgency and priority (court dates, eviction notices, etc.)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Markdown Conversion:"})," Saves structured, searchable version of each document"]})]}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2 mt-4",children:"Vision AI Capability:"}),(0,r.jsx)("p",{className:"text-gray-700 text-sm mb-2",children:"The LLaVA model doesn't just read text—it understands visual context:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 text-sm space-y-1",children:[(0,r.jsx)("li",{children:"Recognizes logos of creditors and official bodies"}),(0,r.jsx)("li",{children:"Understands tables, forms, and structured layouts"}),(0,r.jsx)("li",{children:"Identifies highlighted or bolded urgent sections"}),(0,r.jsx)("li",{children:"Interprets signatures, stamps, and official marks"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mt-3",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:"\uD83D\uDD12 Privacy:"}),(0,r.jsx)("p",{className:"text-xs text-blue-800",children:"Client documents are processed locally. Images and PDFs stay on your server and are never sent to external OCR or vision AI services."})]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:'3. RAG Service - "Ask the Manuals"'}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"What it does:"}),(0,r.jsx)("p",{className:"text-gray-700 mb-3",children:"Lets you query your training manuals, policies, and procedures in natural language. The AI retrieves relevant information and provides answers with source citations."}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2 mt-4",children:"How it works (RAG explained):"}),(0,r.jsxs)("p",{className:"text-gray-700 text-sm mb-3",children:["RAG stands for ",(0,r.jsx)("strong",{children:"Retrieval-Augmented Generation"}),". It's a two-step process:"]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-300 rounded p-3 mb-3",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900 text-sm mb-2",children:"Step 1: Document Ingestion (happens at startup)"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside text-gray-700 text-xs space-y-1",children:[(0,r.jsxs)("li",{children:["All PDF manuals in the ",(0,r.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"/manuals"})," directory are automatically processed"]}),(0,r.jsx)("li",{children:"Text is extracted from each PDF (using PyPDF2 or OCR for scanned documents)"}),(0,r.jsx)("li",{children:"Long documents are split into ~1000 character chunks with 200 character overlap"}),(0,r.jsx)("li",{children:'Each chunk is converted into a mathematical "embedding" (a list of numbers representing meaning)'}),(0,r.jsx)("li",{children:"Embeddings are stored in ChromaDB vector database for fast similarity search"})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-300 rounded p-3 mb-3",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900 text-sm mb-2",children:"Step 2: Query Processing (when you ask a question)"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside text-gray-700 text-xs space-y-1",children:[(0,r.jsx)("li",{children:"Your question is converted into an embedding using the same model (nomic-embed-text)"}),(0,r.jsx)("li",{children:"The system searches the vector database for chunks with similar meanings (not just keyword matching)"}),(0,r.jsx)("li",{children:"Top 4 most relevant chunks are retrieved from different manuals"}),(0,r.jsx)("li",{children:'These chunks are provided as "context" to the Llama 3.2 language model'}),(0,r.jsx)("li",{children:"Llama reads the context and generates an answer to your specific question"}),(0,r.jsx)("li",{children:"Response includes source citations showing which manuals were used"})]})]}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2 mt-4",children:"Why this is better than keyword search:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 text-sm space-y-1 mb-3",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Semantic Understanding:"})," Finds information based on meaning, not just matching words"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Context Aware:"})," Understands questions phrased in different ways"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Synthesizes Information:"})," Combines relevant sections from multiple manuals"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"No Hallucination:"})," Only uses information from your actual manuals"]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mt-3",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:"\uD83D\uDD12 Privacy:"}),(0,r.jsx)("p",{className:"text-xs text-blue-800",children:"Your training manuals are processed and stored locally in ChromaDB. Questions and answers never leave your infrastructure. The embedding model runs on your server."})]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"AI Models Used"}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[(0,r.jsxs)("table",{className:"min-w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,r.jsx)("th",{className:"text-left py-2 pr-4",children:"Model"}),(0,r.jsx)("th",{className:"text-left py-2 pr-4",children:"Size"}),(0,r.jsx)("th",{className:"text-left py-2 pr-4",children:"Used For"}),(0,r.jsx)("th",{className:"text-left py-2",children:"License"})]})}),(0,r.jsxs)("tbody",{className:"text-gray-700",children:[(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"py-2 pr-4 font-semibold",children:"Llama 3.2"}),(0,r.jsx)("td",{className:"py-2 pr-4",children:"3.8GB"}),(0,r.jsx)("td",{className:"py-2 pr-4",children:"Text generation (Notes, RAG answers)"}),(0,r.jsx)("td",{className:"py-2",children:"Open (Meta)"})]}),(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"py-2 pr-4 font-semibold",children:"LLaVA 13B"}),(0,r.jsx)("td",{className:"py-2 pr-4",children:"7.4GB"}),(0,r.jsx)("td",{className:"py-2 pr-4",children:"Vision + Text (Document understanding)"}),(0,r.jsx)("td",{className:"py-2",children:"Open (UW/MBZUAI)"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-2 pr-4 font-semibold",children:"nomic-embed-text"}),(0,r.jsx)("td",{className:"py-2 pr-4",children:"274MB"}),(0,r.jsx)("td",{className:"py-2 pr-4",children:"Creating embeddings for RAG search"}),(0,r.jsx)("td",{className:"py-2",children:"Open (Nomic AI)"})]})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-3",children:"All models are fully open-source and run via Ollama, a local AI runtime. Total storage required: ~12GB for all models."})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"How to Ask Good Questions"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:'Best Practices for "Ask the Manuals"'}),(0,r.jsxs)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:[(0,r.jsx)("h4",{className:"font-semibold text-yellow-900 mb-2",children:"✅ DO: Ask Specific, Clear Questions"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-green-700 font-semibold mb-1",children:'✓ Good: "What are the income requirements for a DRO?"'}),(0,r.jsx)("p",{className:"text-gray-700",children:"Clear, specific, and likely answered in manuals"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-green-700 font-semibold mb-1",children:'✓ Good: "How do I handle rent arrears for a tenant with Universal Credit?"'}),(0,r.jsx)("p",{className:"text-gray-700",children:"Specific scenario with clear context"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-green-700 font-semibold mb-1",children:'✓ Good: "What documents do I need to complete a full income and expenditure assessment?"'}),(0,r.jsx)("p",{className:"text-gray-700",children:"Procedural question about your processes"})]})]})]}),(0,r.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:[(0,r.jsx)("h4",{className:"font-semibold text-red-900 mb-2",children:"❌ DON'T: Ask Vague or Out-of-Scope Questions"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-red-700 font-semibold mb-1",children:'✗ Poor: "Tell me about debt"'}),(0,r.jsx)("p",{className:"text-gray-700",children:"Too vague—will return generic information"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-red-700 font-semibold mb-1",children:'✗ Poor: "What\'s the weather like today?"'}),(0,r.jsx)("p",{className:"text-gray-700",children:"Not related to your manuals—AI will correctly say it doesn't know"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-red-700 font-semibold mb-1",children:'✗ Poor: "Should I recommend bankruptcy for client John?"'}),(0,r.jsx)("p",{className:"text-gray-700",children:"AI can't make client-specific decisions—ask about criteria instead"})]})]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"What the AI CAN Answer"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Procedures & Policies:"}),' "What\'s the process for referring to specialist debt advice?"']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Eligibility Criteria:"}),' "What are the requirements for an IVA?"']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Definitions:"}),' "What\'s the difference between priority and non-priority debts?"']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Documentation:"}),' "What evidence do I need for a DRO application?"']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Time Limits:"}),' "How long do creditors have to pursue a debt?"']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Calculations:"}),' "How is disposable income calculated for a DMP?"']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Legal Requirements:"}),' "What are the FCA rules for debt advice?"']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Best Practices:"}),' "How should I handle a vulnerable client with mental health issues?"']})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"What the AI CANNOT Answer"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Real-Time Information:"})," Current interest rates, today's news, or live data"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Client-Specific Advice:"})," Decisions about individual client cases"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Information Not in Manuals:"})," External policies, other organizations' procedures"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Predictions:"}),' "What will happen if..." scenarios not covered in manuals']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Personal Opinions:"})," Subjective judgments or recommendations"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"External Contacts:"})," Phone numbers, websites not documented in manuals"]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Tips for Better Results"}),(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-3 text-gray-700 text-sm",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Include Context:"}),' "For a single parent with two children..." helps narrow results']}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Use Specific Terms:"})," Use correct terminology from manuals (DRO, IVA, DMP, etc.)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Ask Follow-Up Questions:"})," If first answer isn't quite right, refine your question"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Check Source Citations:"})," Always verify which manual the answer came from"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Use the Debug Tab:"})," View extracted text to ensure manuals were ingested correctly"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Combine with Manual Reading:"})," Use AI for quick lookups, but read full sections for complex cases"]})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Understanding AI Limitations"}),(0,r.jsx)("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(L.Z,{className:"h-5 w-5 text-orange-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-orange-800",children:"Important: AI is a Tool, Not a Replacement"}),(0,r.jsx)("p",{className:"text-sm text-orange-700 mb-2",children:"The AI services are designed to assist money advisors, not replace professional judgment."}),(0,r.jsxs)("ul",{className:"text-sm text-orange-700 list-disc list-inside space-y-1",children:[(0,r.jsx)("li",{children:"Always review AI-generated letters before sending to clients"}),(0,r.jsx)("li",{children:"Verify critical information (dates, amounts, procedures) independently"}),(0,r.jsx)("li",{children:"Use your professional expertise for complex or sensitive cases"}),(0,r.jsx)("li",{children:"Consult supervisors when in doubt—don't rely solely on AI responses"}),(0,r.jsx)("li",{children:"The AI doesn't know your client personally—you do"})]})]})]})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:'Why "Hallucinations" Are Rare (But Check Anyway)'}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:'Unlike ChatGPT or other AI chatbots, the RAG system is designed to minimize "hallucinations" (making up information):'}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 text-sm mb-6",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Grounded in Your Manuals:"})," Only uses actual text from ingested documents"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Source Citations:"})," Every answer shows which manuals were referenced"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Context Awareness:"})," If relevant info isn't found, AI says \"I don't know\""]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"No External Training:"})," Not mixing your procedures with internet knowledge"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Debug Visibility:"})," You can view extracted text to verify accuracy"]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Data Privacy & GDPR Compliance"}),(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-green-900 mb-3",children:"Why Local Hosting Matters"}),(0,r.jsx)("p",{className:"text-green-800 text-sm mb-3",children:"Running AI models locally (instead of using cloud services like OpenAI, Anthropic, or Google) provides critical advantages for money advice:"}),(0,r.jsxs)("ul",{className:"text-green-800 text-sm list-disc list-inside space-y-2",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"GDPR Compliance:"})," Client data stays within your organization's infrastructure—no third-party processing"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"No Data Leakage:"})," Sensitive financial information never sent over the internet to AI providers"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"No Training on Your Data:"})," External AI services learn from queries—yours doesn't"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Complete Control:"})," You control model updates, retention policies, and access logs"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Cost Predictable:"})," No per-API-call charges or surprise bills for high usage"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"No Internet Required:"})," Works even if external services are down or blocked"]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"What Stays Local"}),(0,r.jsxs)("table",{className:"min-w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,r.jsx)("th",{className:"text-left py-2 pr-4",children:"Data Type"}),(0,r.jsx)("th",{className:"text-left py-2",children:"Storage Location"})]})}),(0,r.jsxs)("tbody",{className:"text-gray-700",children:[(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"py-2 pr-4",children:"Client notes"}),(0,r.jsx)("td",{className:"py-2",children:"Processed in-memory, not permanently stored"})]}),(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"py-2 pr-4",children:"Uploaded documents"}),(0,r.jsxs)("td",{className:"py-2",children:["Your server's ",(0,r.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"/data/uploads"})," directory"]})]}),(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"py-2 pr-4",children:"Training manuals"}),(0,r.jsx)("td",{className:"py-2",children:"ChromaDB vector database (local volume)"})]}),(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"py-2 pr-4",children:"AI models"}),(0,r.jsx)("td",{className:"py-2",children:"Ollama volume (12GB total)"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-2 pr-4",children:"Query history"}),(0,r.jsx)("td",{className:"py-2",children:"Not stored (unless you enable logging)"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"\uD83D\uDCA1 Best Practice"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Even though the system is designed for privacy, follow your organization's data protection policies. Don't include unnecessary personal details in notes or queries. Use client IDs instead of names where possible. Regularly backup data and maintain access logs for compliance."})]})]})}function X(){return(0,r.jsxs)("div",{className:"prose max-w-none",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Local Deployment Guide"}),(0,r.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(U.Z,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Overview"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Deploy RMA Dashboard on your local machine or internal server using Docker. Perfect for testing, development, or small single-centre deployments."})]})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Prerequisites"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"System Requirements"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"RAM:"})," 16GB minimum, 32GB recommended"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Storage:"})," 50GB free space (for models and data)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"CPU:"})," 4 cores minimum, 8+ recommended"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"GPU (Optional):"})," NVIDIA GPU with 8GB+ VRAM for faster inference"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"OS:"})," Linux (Ubuntu 22.04+), macOS, or Windows with WSL2"]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Software Requirements"}),(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[(0,r.jsx)("li",{children:"Docker Engine 24.0+"}),(0,r.jsx)("li",{children:"Docker Compose 2.20+"}),(0,r.jsx)("li",{children:"(Optional) NVIDIA Docker runtime for GPU support"})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Installation Steps"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"1. Install Docker"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Ubuntu/Debian:"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"curl -fsSL https://get.docker.com -o get-docker.sh\nsudo sh get-docker.sh\nsudo usermod -aG docker $USER\n# Log out and back in for group changes"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"macOS:"})}),(0,r.jsxs)("p",{className:"text-gray-700 mb-4",children:["Download and install Docker Desktop from ",(0,r.jsx)("a",{href:"https://docker.com",className:"text-blue-600",children:"docker.com"})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Windows:"})}),(0,r.jsxs)("p",{className:"text-gray-700 mb-4",children:["Install WSL2, then Docker Desktop from ",(0,r.jsx)("a",{href:"https://docker.com",className:"text-blue-600",children:"docker.com"})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"2. (Optional) Install NVIDIA Docker for GPU"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Install NVIDIA drivers first\ndistribution=$(. /etc/os-release;echo $ID$VERSION_ID)\ncurl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -\ncurl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | \\\n  sudo tee /etc/apt/sources.list.d/nvidia-docker.list\n\nsudo apt-get update\nsudo apt-get install -y nvidia-docker2\nsudo systemctl restart docker\n\n# Test GPU access\ndocker run --rm --gpus all nvidia/cuda:12.2.0-base-ubuntu22.04 nvidia-smi"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"3. Clone/Extract RMA-Demo"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"cd /path/to/installation\n# If from git:\ngit clone https://your-repo/RMA-Demo.git\ncd RMA-Demo\n\n# Or extract from archive:\ntar -xzf RMA-Demo.tar.gz\ncd RMA-Demo"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"4. Configure Environment"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Copy example environment file\ncp .env.example .env\n\n# Edit configuration\nnano .env  # or use your preferred editor"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Required Settings:"})}),(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:(0,r.jsx)("pre",{className:"text-sm text-gray-800",children:"# Get API key from https://cloud.llamaindex.ai/\nLLAMA_PARSE_API_KEY=llx-xxxxxxxxxxxxxxxx\n\n# Generate secure secret: openssl rand -hex 32\nJWT_SECRET=your-64-character-hex-string\n\n# Your server's public URL (for QR codes)\nAPP_BASE_URL=http://your-server-ip:3000"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"5. Initialize and Start"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# One-command setup\n./init.sh\n\n# This will:\n# - Create configuration files\n# - Start all Docker containers\n# - Pull required AI models (7-8GB download)\n# - Set up vector databases"}),(0,r.jsxs)("p",{className:"text-gray-700 mb-4",children:[(0,r.jsx)("strong",{children:"First-time setup takes 15-30 minutes"})," due to model downloads."]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"6. Verify Installation"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Check all services are running\ndocker-compose ps\n\n# Should show:\n# rma-ollama          running\n# rma-chromadb        running\n# rma-notes-service   running\n# rma-doc-processor   running\n# rma-rag-service     running\n# rma-upload-service  running\n# rma-frontend        running"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"7. Access Dashboard"}),(0,r.jsxs)("p",{className:"text-gray-700 mb-4",children:["Open your browser to: ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"http://localhost:3000"})]}),(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("p",{className:"font-semibold text-green-900 mb-2",children:"Default Login:"}),(0,r.jsxs)("p",{className:"text-green-800",children:["Username: ",(0,r.jsx)("code",{children:"admin"})]}),(0,r.jsxs)("p",{className:"text-green-800",children:["Password: ",(0,r.jsx)("code",{children:"admin123"})]}),(0,r.jsx)("p",{className:"text-sm text-green-700 mt-2",children:"⚠️ Change these credentials in production!"})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Adding Training Manuals"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"1. Add PDF Files"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Copy your training manuals\ncp /path/to/manuals/*.pdf ./manuals/\n\n# Example structure:\n./manuals/\n├── debt-advice-handbook.pdf\n├── benefits-guide.pdf\n├── bankruptcy-procedures.pdf\n└── vulnerability-policy.pdf"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"2. Ingest Manuals"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Run ingestion script\n./scripts/ingest-manuals.sh\n\n# This will:\n# - Process each PDF with OCR\n# - Extract text and structure\n# - Create embeddings\n# - Store in vector database\n# Takes 2-5 minutes per manual"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"3. Verify Ingestion"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:'# Check RAG service stats\ncurl http://localhost:8102/stats\n\n# Should return:\n{\n  "total_chunks": 1234,\n  "collection_name": "manuals",\n  "status": "ready"\n}'}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Maintenance Commands"}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Daily Operations"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-3",children:"# View logs\ndocker-compose logs -f\n\n# View specific service\ndocker-compose logs -f notes-service\n\n# Restart a service\ndocker-compose restart upload-service\n\n# Stop all services\ndocker-compose down\n\n# Start all services\ndocker-compose up -d"}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3 mt-4",children:"Updates"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-3",children:"# Pull latest code\ngit pull\n\n# Rebuild containers\ndocker-compose build\n\n# Restart with new images\ndocker-compose up -d"}),(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3 mt-4",children:"Backups"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm",children:"# Backup volumes\ndocker run --rm \\\n  -v rma-demo_ollama_data:/data \\\n  -v $(pwd)/backups:/backup \\\n  alpine tar czf /backup/ollama-$(date +%Y%m%d).tar.gz /data\n\n# Backup uploads\ntar czf backups/uploads-$(date +%Y%m%d).tar.gz data/uploads/"})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Network Configuration"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Accessing from Other Computers"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"To allow other staff to access the dashboard:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-3 text-gray-700 mb-6",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Configure Firewall:"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mt-2",children:"# Ubuntu/Debian\nsudo ufw allow 3000/tcp\n\n# Or allow from specific subnet\nsudo ufw allow from 192.168.1.0/24 to any port 3000"})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Find Server IP:"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mt-2",children:"# Linux/Mac\nip addr show | grep inet\n\n# Example output:\ninet 192.168.1.100/24"})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Access Dashboard:"})," Other computers can now access at"," ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"http://192.168.1.100:3000"})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Update QR Codes:"})," Edit ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:".env"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mt-2",children:"APP_BASE_URL=http://192.168.1.100:3000"}),"Then restart: ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"docker-compose restart"})]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Using a Custom Domain (Local Network)"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"For easier access, set up a local domain:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"On your router, set a static IP for the server"}),(0,r.jsx)("li",{children:"Add DNS entry in router settings (e.g., rma-dashboard.local → 192.168.1.100)"}),(0,r.jsxs)("li",{children:["Staff can access at: ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"http://rma-dashboard.local:3000"})]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Security Hardening"}),(0,r.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(L.Z,{className:"h-5 w-5 text-red-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Production Checklist"}),(0,r.jsxs)("ul",{className:"text-sm text-red-700 list-disc list-inside mt-2 space-y-1",children:[(0,r.jsx)("li",{children:"Change default admin password"}),(0,r.jsx)("li",{children:"Set strong JWT_SECRET (64+ characters)"}),(0,r.jsx)("li",{children:"Enable HTTPS (use reverse proxy like nginx)"}),(0,r.jsx)("li",{children:"Regular backups (daily recommended)"}),(0,r.jsx)("li",{children:"Keep Docker and packages updated"}),(0,r.jsx)("li",{children:"Monitor disk space (models are large)"}),(0,r.jsx)("li",{children:"Restrict network access to internal only"})]})]})]})})]})}function $(){return(0,r.jsxs)("div",{className:"prose max-w-none",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"AWS Deployment with GPU Support"}),(0,r.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(G.Z,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Overview"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Deploy RMA Dashboard on AWS EKS (Elastic Kubernetes Service) with GPU acceleration, auto-scaling, high availability, and enterprise-grade reliability."})]})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Prerequisites"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"AWS Account Setup"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"Active AWS account with billing enabled"}),(0,r.jsx)("li",{children:"IAM user with administrator access"}),(0,r.jsx)("li",{children:"AWS CLI configured with credentials"}),(0,r.jsx)("li",{children:"Sufficient service limits (EKS, EC2, EBS)"})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Local Tools"}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900 mb-2",children:"Install Required CLI Tools:"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm",children:'# AWS CLI\ncurl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"\nunzip awscliv2.zip\nsudo ./aws/install\n\n# eksctl (EKS cluster manager)\ncurl --silent --location "https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz" | tar xz -C /tmp\nsudo mv /tmp/eksctl /usr/local/bin\n\n# kubectl (Kubernetes CLI)\ncurl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"\nsudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl'})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Configure AWS CLI"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-6",children:"# Configure credentials\naws configure\n\n# Enter when prompted:\nAWS Access Key ID: AKIAXXXXXXXXXXXXXXXX\nAWS Secret Access Key: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nDefault region name: us-east-1\nDefault output format: json\n\n# Verify configuration\naws sts get-caller-identity"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Deployment Process"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 1: Prepare Configuration"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:'cd RMA-Demo\n\n# Set environment variables\nexport LLAMA_PARSE_API_KEY="your-api-key"\nexport AWS_REGION="us-east-1"\nexport CLUSTER_NAME="rma-demo-cluster"'}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 2: Run Deployment Script"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"cd aws-scripts\n./deploy-eks.sh\n\n# This script will:\n# 1. Create EKS cluster (15-20 minutes)\n# 2. Add GPU node group (5-10 minutes)\n# 3. Install NVIDIA device plugin\n# 4. Create ECR repositories\n# 5. Build and push Docker images (10-15 minutes)\n# 6. Deploy all services to Kubernetes\n# 7. Create Load Balancer\n\n# Total time: 30-45 minutes"}),(0,r.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(L.Z,{className:"h-5 w-5 text-yellow-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Cost Warning"}),(0,r.jsx)("p",{className:"text-sm text-yellow-700 mb-2",children:"AWS EKS with GPU nodes is not free. Estimated monthly costs:"}),(0,r.jsxs)("ul",{className:"text-sm text-yellow-700 list-disc list-inside space-y-1",children:[(0,r.jsx)("li",{children:"EKS Cluster: $73/month"}),(0,r.jsx)("li",{children:"CPU Nodes (2x t3.large): ~$120/month"}),(0,r.jsx)("li",{children:"GPU Node (1x g5.xlarge): ~$550/month"}),(0,r.jsx)("li",{children:"Load Balancer: ~$16/month"}),(0,r.jsx)("li",{children:"Storage (EBS): ~$20/month"}),(0,r.jsx)("li",{children:(0,r.jsx)("strong",{children:"Total: ~$780/month"})})]}),(0,r.jsx)("p",{className:"text-sm text-yellow-700 mt-2",children:"\uD83D\uDCA1 Tip: Scale GPU nodes to 0 when not in use to save $550/month"})]})]})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 3: Monitor Deployment"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Watch pods come online\nkubectl get pods -n rma-demo -w\n\n# Check service status\nkubectl get svc -n rma-demo\n\n# View logs\nkubectl logs -f deployment/frontend -n rma-demo"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Step 4: Get Access URL"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Get Load Balancer URL\nkubectl get svc frontend -n rma-demo\n\n# Output:\nNAME       TYPE           EXTERNAL-IP\nfrontend   LoadBalancer   a1b2c3d4.us-east-1.elb.amazonaws.com\n\n# Access dashboard at:\n# http://a1b2c3d4.us-east-1.elb.amazonaws.com"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"GPU Configuration"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"GPU Instance Types"}),(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("table",{className:"min-w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,r.jsx)("th",{className:"text-left py-2",children:"Instance"}),(0,r.jsx)("th",{className:"text-left py-2",children:"GPU"}),(0,r.jsx)("th",{className:"text-left py-2",children:"VRAM"}),(0,r.jsx)("th",{className:"text-left py-2",children:"Cost/hour"}),(0,r.jsx)("th",{className:"text-left py-2",children:"Best For"})]})}),(0,r.jsxs)("tbody",{className:"text-gray-700",children:[(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"py-2",children:"g5.xlarge"}),(0,r.jsx)("td",{children:"NVIDIA A10G"}),(0,r.jsx)("td",{children:"24GB"}),(0,r.jsx)("td",{children:"$1.01"}),(0,r.jsx)("td",{children:"Production (recommended)"})]}),(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"py-2",children:"g5.2xlarge"}),(0,r.jsx)("td",{children:"NVIDIA A10G"}),(0,r.jsx)("td",{children:"24GB"}),(0,r.jsx)("td",{children:"$1.21"}),(0,r.jsx)("td",{children:"Higher CPU needs"})]}),(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"py-2",children:"g4dn.xlarge"}),(0,r.jsx)("td",{children:"NVIDIA T4"}),(0,r.jsx)("td",{children:"16GB"}),(0,r.jsx)("td",{children:"$0.53"}),(0,r.jsx)("td",{children:"Budget option"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-2",children:"p3.2xlarge"}),(0,r.jsx)("td",{children:"NVIDIA V100"}),(0,r.jsx)("td",{children:"16GB"}),(0,r.jsx)("td",{children:"$3.06"}),(0,r.jsx)("td",{children:"Heavy workloads"})]})]})]})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Verify GPU Access"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Check GPU nodes\nkubectl get nodes -l workload=gpu\n\n# Run test pod\nkubectl run gpu-test --rm -it --restart=Never \\\n  --image=nvidia/cuda:12.2.0-base-ubuntu22.04 \\\n  --limits=nvidia.com/gpu=1 \\\n  -- nvidia-smi\n\n# Should show GPU info"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Scale GPU Nodes"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Scale down to save costs (when not in use)\neksctl scale nodegroup --cluster=rma-demo-cluster \\\n  --name=gpu-nodes --nodes=0\n\n# Scale up when needed\neksctl scale nodegroup --cluster=rma-demo-cluster \\\n  --name=gpu-nodes --nodes=1"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"High Availability Setup"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Auto-Scaling Configuration"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"The deployment includes auto-scaling based on CPU/memory usage:"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Enable cluster autoscaler\nkubectl apply -f k8s/cluster-autoscaler.yaml\n\n# Configure horizontal pod autoscaling\nkubectl autoscale deployment frontend -n rma-demo \\\n  --min=2 --max=10 --cpu-percent=70\n\nkubectl autoscale deployment notes-service -n rma-demo \\\n  --min=1 --max=5 --cpu-percent=80"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Multi-AZ Deployment"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"For production, deploy across multiple availability zones:"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Edit deployment script to use multiple AZs\neksctl create cluster \\\n  --name rma-demo-cluster \\\n  --region us-east-1 \\\n  --zones us-east-1a,us-east-1b,us-east-1c \\\n  --node-type t3.large \\\n  --nodes 3 \\\n  --nodes-min 2 \\\n  --nodes-max 6"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Monitoring & Logging"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"CloudWatch Integration"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Install CloudWatch agent\nkubectl apply -f https://raw.githubusercontent.com/aws-samples/amazon-cloudwatch-container-insights/latest/k8s-deployment-manifest-templates/deployment-mode/daemonset/container-insights-monitoring/quickstart/cwagent-fluentd-quickstart.yaml\n\n# View logs in CloudWatch\naws logs tail /aws/eks/rma-demo-cluster/cluster --follow"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Metrics Dashboard"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"Access metrics in AWS Console:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"Go to CloudWatch → Dashboards"}),(0,r.jsx)("li",{children:"Create dashboard for RMA-Demo"}),(0,r.jsxs)("li",{children:["Add widgets for:",(0,r.jsxs)("ul",{className:"list-disc list-inside ml-6 mt-2",children:[(0,r.jsx)("li",{children:"Pod CPU/Memory usage"}),(0,r.jsx)("li",{children:"Request rates"}),(0,r.jsx)("li",{children:"Error rates"}),(0,r.jsx)("li",{children:"GPU utilization"})]})]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Backup & Disaster Recovery"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"EBS Snapshots"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:'# Enable automated EBS snapshots\naws dlm create-lifecycle-policy \\\n  --description "Daily RMA backup" \\\n  --state ENABLED \\\n  --execution-role-arn arn:aws:iam::ACCOUNT:role/AWSDataLifecycleManager \\\n  --policy-details file://backup-policy.json'}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Velero for K8s Backups"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Install Velero\nvelero install \\\n  --provider aws \\\n  --plugins velero/velero-plugin-for-aws:v1.8.0 \\\n  --bucket rma-demo-backups \\\n  --backup-location-config region=us-east-1\n\n# Create backup\nvelero backup create rma-demo-backup --include-namespaces rma-demo\n\n# Restore from backup\nvelero restore create --from-backup rma-demo-backup"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Security Best Practices"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Network Security"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"Use VPC with private subnets for worker nodes"}),(0,r.jsx)("li",{children:"Restrict Load Balancer to specific IP ranges"}),(0,r.jsx)("li",{children:"Enable VPC Flow Logs for audit"}),(0,r.jsx)("li",{children:"Use AWS WAF for application firewall"}),(0,r.jsx)("li",{children:"Enable encryption at rest for EBS volumes"})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Secrets Management"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:'# Use AWS Secrets Manager\naws secretsmanager create-secret \\\n  --name rma-demo/jwt-secret \\\n  --secret-string "your-secret-here"\n\n# Install External Secrets Operator\nhelm repo add external-secrets https://charts.external-secrets.io\nhelm install external-secrets external-secrets/external-secrets\n\n# Configure secret sync to K8s'}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Updating the Deployment"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Rolling Updates"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Build new images\ncd RMA-Demo\ndocker build -t ECR_REGISTRY/rma-frontend:v2 ./frontend\ndocker push ECR_REGISTRY/rma-frontend:v2\n\n# Update deployment\nkubectl set image deployment/frontend \\\n  frontend=ECR_REGISTRY/rma-frontend:v2 \\\n  -n rma-demo\n\n# Watch rollout\nkubectl rollout status deployment/frontend -n rma-demo\n\n# Rollback if needed\nkubectl rollout undo deployment/frontend -n rma-demo"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Cost Optimization"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Strategies to Reduce Costs"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-3 text-gray-700 mb-6",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Use Spot Instances:"})," Save 70% on non-GPU nodes",(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mt-2",children:"eksctl create nodegroup --spot"})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Schedule GPU nodes:"})," Only run during business hours"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Use S3 Intelligent-Tiering:"})," For document storage"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Enable EBS autoscaling:"})," Only pay for used storage"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Use AWS Savings Plans:"})," 1-year commitment saves 20-30%"]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Cleanup"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Delete Cluster"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Delete everything\neksctl delete cluster --name rma-demo-cluster --region us-east-1\n\n# This will remove:\n# - EKS cluster\n# - All node groups\n# - Load Balancers\n# - Associated resources\n\n# Manually delete:\n# - ECR repositories (if no longer needed)\n# - EBS snapshots/backups\n# - CloudWatch logs"}),(0,r.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(L.Z,{className:"h-5 w-5 text-red-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"⚠️ Important"}),(0,r.jsx)("p",{className:"text-sm text-red-700",children:"Always verify all resources are deleted to avoid unexpected charges. Check:"}),(0,r.jsxs)("ul",{className:"text-sm text-red-700 list-disc list-inside mt-1",children:[(0,r.jsx)("li",{children:"EC2 instances"}),(0,r.jsx)("li",{children:"Load Balancers"}),(0,r.jsx)("li",{children:"EBS volumes"}),(0,r.jsx)("li",{children:"Elastic IPs"})]})]})]})})]})}function J(){return(0,r.jsxs)("div",{className:"prose max-w-none",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Domain Registration & DNS Setup"}),(0,r.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(O.Z,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Overview"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Set up a custom domain name for your RMA Dashboard (e.g., rma.yourorg.org.uk) instead of using AWS Load Balancer URLs or IP addresses."})]})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Option 1: Register New Domain"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Using AWS Route 53"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-3 text-gray-700 mb-6",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Log in to AWS Console"}),(0,r.jsx)("p",{className:"ml-6 mt-1",children:"Navigate to Route 53 service"})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Register Domain"}),(0,r.jsxs)("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1",children:[(0,r.jsx)("li",{children:'Click "Register Domain"'}),(0,r.jsx)("li",{children:"Search for available domain (e.g., your-org-rma.co.uk)"}),(0,r.jsx)("li",{children:"Select domain and add to cart"}),(0,r.jsx)("li",{children:"Typical costs: \xa310-30/year for .uk domains"})]})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Complete Registration"}),(0,r.jsxs)("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1",children:[(0,r.jsx)("li",{children:"Enter contact information"}),(0,r.jsx)("li",{children:"Enable auto-renewal"}),(0,r.jsx)("li",{children:"Complete payment"}),(0,r.jsx)("li",{children:"Registration takes 10-15 minutes"})]})]})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Using Third-Party Registrar"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"Popular UK registrars:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Namecheap:"})," \xa38-15/year, easy management"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"123-reg:"})," \xa35-20/year, UK-based"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"GoDaddy:"})," \xa310-25/year, well-known"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Cloudflare:"})," At-cost pricing, excellent security"]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Option 2: Use Existing Domain"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"If your organization already owns a domain (e.g., yourorg.org.uk), create a subdomain:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"rma.yourorg.org.uk"}),(0,r.jsx)("li",{children:"dashboard.yourorg.org.uk"}),(0,r.jsx)("li",{children:"advice.yourorg.org.uk"})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"DNS Configuration"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Method A: AWS Route 53 (Recommended for AWS)"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:(0,r.jsx)("strong",{children:"Step 1: Create Hosted Zone"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Using provided script\ncd RMA-Demo/aws-scripts\n./register-domain.sh your-domain.com\n\n# This automatically:\n# - Creates Route 53 hosted zone\n# - Gets Load Balancer DNS\n# - Creates A record (alias)\n# - Sets up www subdomain"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:(0,r.jsx)("strong",{children:"Step 2: Update Nameservers (if domain registered elsewhere)"})}),(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 text-sm",children:[(0,r.jsxs)("li",{children:["Get nameservers from Route 53:",(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-2 rounded overflow-x-auto text-xs mt-1",children:"aws route53 get-hosted-zone --id YOUR_ZONE_ID \\\n  --query 'DelegationSet.NameServers'"})]}),(0,r.jsx)("li",{children:"Log in to your domain registrar"}),(0,r.jsx)("li",{children:"Find DNS/Nameserver settings"}),(0,r.jsxs)("li",{children:["Replace nameservers with Route 53 ones:",(0,r.jsxs)("ul",{className:"list-disc list-inside ml-4 mt-1",children:[(0,r.jsx)("li",{children:"ns-1234.awsdns-12.org"}),(0,r.jsx)("li",{children:"ns-5678.awsdns-34.co.uk"}),(0,r.jsx)("li",{children:"ns-9012.awsdns-56.com"}),(0,r.jsx)("li",{children:"ns-3456.awsdns-78.net"})]})]}),(0,r.jsx)("li",{children:"Save changes (propagation takes 24-48 hours, usually faster)"})]})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Method B: External DNS Provider"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"If using Cloudflare, Namecheap, etc.:"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Step 1: Get Load Balancer DNS"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"kubectl get svc frontend -n rma-demo\n\n# Copy the EXTERNAL-IP:\n# a1b2c3d4e5f6g7h8.us-east-1.elb.amazonaws.com"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Step 2: Add DNS Records"})}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900 mb-2",children:"In your DNS provider dashboard:"}),(0,r.jsxs)("table",{className:"min-w-full text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,r.jsx)("th",{className:"text-left py-2",children:"Type"}),(0,r.jsx)("th",{className:"text-left py-2",children:"Name"}),(0,r.jsx)("th",{className:"text-left py-2",children:"Value"}),(0,r.jsx)("th",{className:"text-left py-2",children:"TTL"})]})}),(0,r.jsxs)("tbody",{className:"text-gray-700",children:[(0,r.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,r.jsx)("td",{className:"py-2",children:"CNAME"}),(0,r.jsx)("td",{children:"rma"}),(0,r.jsx)("td",{children:"a1b2c3d4.us-east-1.elb.amazonaws.com"}),(0,r.jsx)("td",{children:"300"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-2",children:"CNAME"}),(0,r.jsx)("td",{children:"www"}),(0,r.jsx)("td",{children:"rma.yourdomain.com"}),(0,r.jsx)("td",{children:"300"})]})]})]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"SSL/TLS Certificate Setup"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Using AWS Certificate Manager (Free)"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:(0,r.jsx)("strong",{children:"Step 1: Request Certificate"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Request certificate\naws acm request-certificate \\\n  --domain-name rma.yourdomain.com \\\n  --subject-alternative-names www.rma.yourdomain.com \\\n  --validation-method DNS \\\n  --region us-east-1\n\n# Note the CertificateArn from output"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:(0,r.jsx)("strong",{children:"Step 2: Validate Domain Ownership"})}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 mb-4",children:[(0,r.jsx)("li",{children:"AWS Certificate Manager will provide DNS records"}),(0,r.jsx)("li",{children:"Add these CNAME records to your DNS"}),(0,r.jsx)("li",{children:"Wait for validation (5-30 minutes)"}),(0,r.jsx)("li",{children:'Certificate status changes to "Issued"'})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:(0,r.jsx)("strong",{children:"Step 3: Configure Load Balancer"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Get Load Balancer ARN\nLB_ARN=$(aws elbv2 describe-load-balancers \\\n  --query 'LoadBalancers[?contains(LoadBalancerName, `rma`)].LoadBalancerArn' \\\n  --output text)\n\n# Add HTTPS listener\naws elbv2 create-listener \\\n  --load-balancer-arn $LB_ARN \\\n  --protocol HTTPS \\\n  --port 443 \\\n  --certificates CertificateArn=YOUR_CERT_ARN \\\n  --default-actions Type=forward,TargetGroupArn=YOUR_TARGET_GROUP_ARN\n\n# Redirect HTTP to HTTPS\naws elbv2 modify-listener \\\n  --listener-arn YOUR_HTTP_LISTENER_ARN \\\n  --default-actions Type=redirect,RedirectConfig=\"{Protocol=HTTPS,Port=443,StatusCode=HTTP_301}\""}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Using Let's Encrypt (Alternative)"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"For non-AWS deployments or preference for Let's Encrypt:"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Install cert-manager\nkubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml\n\n# Create issuer\nkubectl apply -f - <<EOF\napiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: letsencrypt-prod\nspec:\n  acme:\n    server: https://acme-v02.api.letsencrypt.org/directory\n    email: admin@yourdomain.com\n    privateKeySecretRef:\n      name: letsencrypt-prod\n    solvers:\n    - http01:\n        ingress:\n          class: nginx\nEOF\n\n# Certificate will auto-renew every 90 days"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Verification"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Check DNS Propagation"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Check DNS resolution\ndig rma.yourdomain.com\n\n# Or use online tools:\n# - https://dnschecker.org\n# - https://www.whatsmydns.net"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Test SSL Certificate"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Check certificate\ncurl -vI https://rma.yourdomain.com\n\n# Or use online tools:\n# - https://www.ssllabs.com/ssltest/\n# Should show A+ rating"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Access Dashboard"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"Once DNS propagates and SSL is configured:"}),(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("p",{className:"font-semibold text-green-900 mb-2",children:"Your dashboard is now accessible at:"}),(0,r.jsx)("p",{className:"text-green-800 text-lg",children:"\uD83D\uDD12 https://rma.yourdomain.com"}),(0,r.jsxs)("p",{className:"text-sm text-green-700 mt-2",children:["✅ Secure connection",(0,r.jsx)("br",{}),"✅ Professional URL",(0,r.jsx)("br",{}),"✅ Ready for production"]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Update Application Configuration"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Update Environment Variables"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto mb-4",children:"# Update .env file\nAPP_BASE_URL=https://rma.yourdomain.com\n\n# Or for Kubernetes:\nkubectl set env deployment/upload-service \\\n  APP_BASE_URL=https://rma.yourdomain.com \\\n  -n rma-demo\n\n# Restart services to apply\nkubectl rollout restart deployment/upload-service -n rma-demo"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Regenerate QR Codes"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"After updating the domain, regenerate any client QR codes so they point to the new URL."}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Subdomain Strategy"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Recommended Structure"}),(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 text-sm",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"rma.yourorg.org.uk"})," - Main dashboard (production)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"rma-staging.yourorg.org.uk"})," - Testing environment"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"rma-api.yourorg.org.uk"})," - API endpoints (if exposing publicly)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"docs.yourorg.org.uk"})," - Documentation portal"]})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Troubleshooting"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"DNS Not Resolving"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"Wait up to 48 hours for propagation"}),(0,r.jsx)("li",{children:"Check nameservers are correct"}),(0,r.jsxs)("li",{children:["Clear local DNS cache: ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"sudo systemd-resolve --flush-caches"})]}),(0,r.jsx)("li",{children:"Try different DNS server (8.8.8.8, 1.1.1.1)"})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"SSL Certificate Issues"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"Verify DNS is resolving before requesting certificate"}),(0,r.jsx)("li",{children:"Check validation records are added correctly"}),(0,r.jsx)("li",{children:"Ensure Load Balancer has certificate attached"}),(0,r.jsx)("li",{children:"Check security group allows HTTPS (port 443)"})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Mixed Content Warnings"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"If you see security warnings after enabling HTTPS:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 mb-6",children:[(0,r.jsx)("li",{children:"Update all service URLs in frontend to use https://"}),(0,r.jsxs)("li",{children:["Or use relative URLs: ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"/api/endpoint"})]}),(0,r.jsx)("li",{children:"Ensure API calls don't mix HTTP and HTTPS"})]}),(0,r.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(L.Z,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"\uD83D\uDCA1 Pro Tip"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Use Cloudflare (free tier) as DNS provider for additional benefits:"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-700 list-disc list-inside mt-1",children:[(0,r.jsx)("li",{children:"Free SSL/TLS"}),(0,r.jsx)("li",{children:"DDoS protection"}),(0,r.jsx)("li",{children:"Caching/CDN"}),(0,r.jsx)("li",{children:"Analytics"}),(0,r.jsx)("li",{children:"Faster DNS propagation"})]})]})]})})]})}function ee(){return(0,r.jsxs)("div",{className:"prose max-w-none",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"API Reference"}),(0,r.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(W.Z,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Complete API Documentation"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Reference for all backend service endpoints and their usage."})]})]})}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Notes Service (Port 8100)"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Converts advisor notes to client-friendly charts of accounts."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Service info and welcome message"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /health"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Health check endpoint"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /convert"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Convert advisor notes to CoA format"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "notes": "Client has \xa3500 overdraft, \xa32000 credit card debt..."\n}'})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Document Processor Service (Port 8101)"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Processes PDF documents with local or cloud parsing."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Service information"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /health"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Health check endpoint"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /capabilities"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Returns parsing capabilities (local-only)"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /process"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Process a PDF document"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "file_path": "/path/to/document.pdf",\n  "use_local": true\n}'})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"RAG Service (Port 8102)"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Agentic RAG service for querying training manuals with LangGraph."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Service information"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /health"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Health check endpoint"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /stats"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Vector store statistics"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /query"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Query the manuals (basic RAG)"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "query": "What is the process for bankruptcy?",\n  "top_k": 5\n}'})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /agentic-query"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Agentic query with reasoning and tool use (LangGraph)"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "query": "Compare DRO vs bankruptcy eligibility",\n  "include_reasoning": true\n}'})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /eligibility-check"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Check debt solution eligibility"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "debt_amount": 15000,\n  "monthly_income": 1200,\n  "assets": 5000,\n  "circumstances": "unemployed"\n}'})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /symbolic-query"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Symbolic reasoning query"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /ingest"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Ingest text content into vector store"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /ingest-pdf"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Ingest PDF into vector store"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /ingest-all-manuals"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Ingest all manuals from /manuals directory"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /decision-tree/check"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Decision tree eligibility check"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /decision-tree/visualize"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Visualize decision tree"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /decision-tree/rules"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Get decision tree rules"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /diagrams/mermaid/:topic"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Generate Mermaid diagram for topic"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /diagrams/graphviz/:topic"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Generate Graphviz diagram for topic"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /diagrams/client-path"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Generate client journey diagram"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /diagrams/advisor-package"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Generate advisor package diagram"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /diagrams/comparison"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Compare debt solutions diagram"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /debug/documents"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"List all documents in vector store"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /debug/sources"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"List unique document sources"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /thresholds"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Get eligibility thresholds"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /debug/thresholds"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Debug threshold information"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Upload Service (Port 8103)"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Handles client document uploads, authentication, and QR code generation."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Service information"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /health"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Health check endpoint"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /login"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Advisor authentication"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "username": "advisor1",\n  "password": "password123"\n}'})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /generate-qr"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Generate QR code for client uploads"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "client_id": "john-smith",\n  "client_name": "John Smith"\n}'})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /uploads/:client_id"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Upload document for client"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Multipart form data with file field"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /uploads/:client_id"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"List all uploads for a client"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /uploads/:client_id/:filename"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Download specific file"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-red-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"DELETE /uploads/:client_id/:filename"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Delete a client document"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /query-client-documents"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Query client-specific documents"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "client_id": "john-smith",\n  "query": "What is their monthly income?"\n}'})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /clients"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"List all clients with uploads"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /client-stats/:client_id"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Get statistics for client documents"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /triage-document"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"AI triage of uploaded document"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Client RAG Service (Port 8104)"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Client-specific document RAG with LangGraph agentic capabilities."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Service information"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /health"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Health check endpoint"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /clients"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"List all clients in vector store"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /stats/:client_id"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Get client document statistics"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-red-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"DELETE /delete/:client_id/:filename"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Delete client document from vector store"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /query"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Query client documents (basic RAG)"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "client_id": "john-smith",\n  "query": "What is the client\'s income?",\n  "top_k": 5\n}'})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /agentic-query"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Agentic query with reasoning (LangGraph)"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "client_id": "john-smith",\n  "query": "Calculate debt-to-income ratio",\n  "include_reasoning": true\n}'})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /should-i-worry"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Analyze document for concerns"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "client_id": "john-smith",\n  "filename": "payslip.pdf"\n}'})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /ingest"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Ingest client document into vector store"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "client_id": "john-smith",\n  "filename": "statement.pdf",\n  "content": "extracted text..."\n}'})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"MCP Server (Port 8105)"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Model Context Protocol server for external integrations and n8n workflows."}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Service information"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /health"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Health check endpoint"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /mcp/tools"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"List available MCP tools"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"POST /mcp/tools/execute"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Execute an MCP tool"}),(0,r.jsx)("pre",{className:"bg-gray-50 p-3 rounded mt-2 text-xs overflow-x-auto",children:'{\n  "tool_name": "query_manuals",\n  "arguments": {\n    "query": "DRO eligibility"\n  }\n}'})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /mcp/resources"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"List available MCP resources"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /mcp/resources/:resource_uri"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Get specific MCP resource"})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"GET /mcp/prompts"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"List available MCP prompts"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"N8N Workflow Platform (Port 5678)"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Low-code workflow automation for centre managers."}),(0,r.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:(0,r.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,r.jsx)("strong",{children:"Access:"})," http://localhost:5678",(0,r.jsx)("br",{}),(0,r.jsx)("strong",{children:"Default credentials:"})," admin / changeme123 (change in production!)"]})}),(0,r.jsx)("p",{className:"text-gray-700",children:"N8N provides a visual workflow editor where centre managers can:"}),(0,r.jsxs)("ul",{className:"list-disc pl-6 mt-2 space-y-1 text-gray-700",children:[(0,r.jsx)("li",{children:"Create automated client communication workflows"}),(0,r.jsx)("li",{children:"Schedule regular reports and statistics"}),(0,r.jsx)("li",{children:"Integrate with external services (email, SMS, etc.)"}),(0,r.jsx)("li",{children:"Access RMA data via MCP server integration"}),(0,r.jsx)("li",{children:"Build custom triggers and actions without coding"})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Environment Variables"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Required configuration for services."}),(0,r.jsx)("pre",{className:"bg-gray-50 p-4 rounded text-xs overflow-x-auto",children:"# Authentication\nJWT_SECRET=your-secret-key-change-in-production\n\n# N8N Configuration\nN8N_USER=admin\nN8N_PASSWORD=changeme123\n\n# MCP Server\nMCP_API_KEY=dev-key-change-in-production\n\n# Upload Service\nAPP_BASE_URL=http://localhost:3000\n\n# Document Processing (optional for cloud parsing)\nLLAMA_PARSE_API_KEY=your-llamaparse-key\n\n# Local Parsing (set to true for privacy mode)\nUSE_LOCAL_PARSING=true"})]})]})]})}function es(){return(0,r.jsxs)("div",{className:"prose max-w-none",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"N8N Workflows & Automation"}),(0,r.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(M.Z,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Automated Document Processing"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Create powerful workflows to automate client document validation, compliance checks, and reporting using N8N."})]})]})}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"What is N8N?"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"N8N is a powerful workflow automation tool that allows you to create complex automations without coding. Think of it as connecting different apps and services together with visual workflows."}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{className:"bg-green-50 p-4 rounded",children:[(0,r.jsx)("h3",{className:"font-semibold text-green-900 mb-2",children:"What You Can Do"}),(0,r.jsxs)("ul",{className:"text-sm text-green-800 space-y-1",children:[(0,r.jsx)("li",{children:"• Automate document audits"}),(0,r.jsx)("li",{children:"• Send email notifications"}),(0,r.jsx)("li",{children:"• Schedule regular checks"}),(0,r.jsx)("li",{children:"• Integrate with external systems"}),(0,r.jsx)("li",{children:"• Generate compliance reports"})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded",children:[(0,r.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Access N8N"}),(0,r.jsxs)("p",{className:"text-sm text-blue-800 mb-2",children:[(0,r.jsx)("strong",{children:"URL:"})," ",(0,r.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"http://localhost:5678"})]}),(0,r.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,r.jsx)("strong",{children:"Default Login:"}),(0,r.jsx)("br",{}),"Username: ",(0,r.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"admin"}),(0,r.jsx)("br",{}),"Password: ",(0,r.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"changeme123"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"⭐ Client Document Audit Agent"}),(0,r.jsxs)("p",{className:"text-gray-700 mb-4",children:["The ",(0,r.jsx)("strong",{children:"Audit Agent"})," automatically validates client documents against a compliance checklist using AI. This is perfect for ensuring all required documents are submitted before processing applications."]}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"How It Works"}),(0,r.jsxs)("ol",{className:"list-decimal pl-6 space-y-2 text-gray-700 mb-4",children:[(0,r.jsx)("li",{children:'You provide a checklist of required documents (e.g., "Proof of Income", "Bank Statements")'}),(0,r.jsx)("li",{children:"The AI agent searches through all client documents"}),(0,r.jsx)("li",{children:"For each item, it determines: PASS ✅, FAIL ❌, or WARNING ⚠️"}),(0,r.jsx)("li",{children:"It generates a detailed report with recommendations"}),(0,r.jsx)("li",{children:"Results can trigger emails, Slack messages, or other actions"})]}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quick Start"}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded mb-4",children:[(0,r.jsx)("p",{className:"text-sm font-semibold mb-2",children:"Step 1: Import the Workflow"}),(0,r.jsxs)("ol",{className:"text-sm text-gray-700 space-y-1 pl-4",children:[(0,r.jsxs)("li",{children:["1. Open N8N at ",(0,r.jsx)("code",{className:"bg-white px-1 rounded",children:"http://localhost:5678"})]}),(0,r.jsxs)("li",{children:["2. Click ",(0,r.jsx)("strong",{children:"Workflows"})," → ",(0,r.jsx)("strong",{children:"Add Workflow"})]}),(0,r.jsxs)("li",{children:["3. Click the ",(0,r.jsx)("strong",{children:"..."})," menu → ",(0,r.jsx)("strong",{children:"Import from File"})]}),(0,r.jsxs)("li",{children:["4. Navigate to ",(0,r.jsx)("code",{className:"bg-white px-1 rounded",children:"/services/n8n/workflows/client-audit-agent.json"})]}),(0,r.jsxs)("li",{children:["5. Click ",(0,r.jsx)("strong",{children:"Activate"})," to enable the workflow"]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded mb-4",children:[(0,r.jsx)("p",{className:"text-sm font-semibold mb-2",children:"Step 2: Configure Client ID"}),(0,r.jsxs)("ol",{className:"text-sm text-gray-700 space-y-1 pl-4",children:[(0,r.jsxs)("li",{children:["1. Open the ",(0,r.jsx)("strong",{children:"Set Client ID"})," node"]}),(0,r.jsxs)("li",{children:["2. Change ",(0,r.jsx)("code",{className:"bg-white px-1 rounded",children:"client_id"}),' to your client (e.g., "jane-doe")']}),(0,r.jsx)("li",{children:"3. Save the workflow"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,r.jsx)("p",{className:"text-sm font-semibold mb-2",children:"Step 3: Run the Audit"}),(0,r.jsxs)("ol",{className:"text-sm text-gray-700 space-y-1 pl-4",children:[(0,r.jsxs)("li",{children:["1. Click ",(0,r.jsx)("strong",{children:"Execute Workflow"})]}),(0,r.jsx)("li",{children:"2. View results in the workflow output"}),(0,r.jsx)("li",{children:"3. Check the generated report files"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Default Audit Checklist"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"The pre-built workflow includes 10 common document checks:"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:"✅ Required Documents (Must Have)"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,r.jsx)("li",{children:"1. Proof of Income"}),(0,r.jsx)("li",{children:"2. Bank Statements (Last 3 Months)"}),(0,r.jsx)("li",{children:"3. Proof of Address"}),(0,r.jsx)("li",{children:"4. Photo ID"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-yellow-900 mb-2",children:"⚠️ Optional Documents (Nice to Have)"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,r.jsx)("li",{children:"5. Credit Card Statements"}),(0,r.jsx)("li",{children:"6. Loan Agreements"}),(0,r.jsx)("li",{children:"7. Mortgage Statement"}),(0,r.jsx)("li",{children:"8. Employment Contract"}),(0,r.jsx)("li",{children:"9. Budget Planner"}),(0,r.jsx)("li",{children:"10. Creditor Letters"})]})]})]}),(0,r.jsx)("div",{className:"mt-4 bg-yellow-50 p-3 rounded",children:(0,r.jsxs)("p",{className:"text-sm text-yellow-800",children:["\uD83D\uDCA1 ",(0,r.jsx)("strong",{children:"Tip:"})," You can customize this checklist in the ",(0,r.jsx)("strong",{children:"Build Audit Checklist"})," node"]})})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Customizing the Checklist"}),(0,r.jsxs)("p",{className:"text-gray-700 mb-4",children:["Edit the ",(0,r.jsx)("strong",{children:"Build Audit Checklist"})," node to add your own checks:"]}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded text-xs overflow-x-auto mb-4",children:'{\n  "item": "DRO Debt Limit Check",\n  "required": true,\n  "query": "Based on client documents, is total debt under \xa330,000?",\n  "category": "eligibility"\n},\n{\n  "item": "Proof of Residency (2 years)",\n  "required": true,\n  "query": "Has the client lived in England/Wales for 2+ years?",\n  "category": "eligibility"\n}'}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Checklist Item Properties"}),(0,r.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"item:"})," Name of the requirement (shown in reports)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"required:"})," ",(0,r.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"true"})," = must have (FAIL if missing), ",(0,r.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"false"})," = optional (WARNING if missing)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"query:"})," AI query to check for this item (be specific!)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"category:"})," Grouping for organization (financial, identity, debt, eligibility, etc.)"]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Automation Ideas"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-l-4 border-blue-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"\uD83D\uDCC5 Schedule Daily Audits"}),(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Replace ",(0,r.jsx)("strong",{children:"Manual Trigger"})," with ",(0,r.jsx)("strong",{children:"Schedule Trigger"})," to run audits every morning at 9 AM. Add a loop to check all active clients."]})]}),(0,r.jsxs)("div",{className:"border-l-4 border-green-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"\uD83D\uDCE7 Email Notifications"}),(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Add ",(0,r.jsx)("strong",{children:"Send Email"})," node after ",(0,r.jsx)("strong",{children:"Format Failure"})," to automatically email advisors about missing documents with a list of required items."]})]}),(0,r.jsxs)("div",{className:"border-l-4 border-purple-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"\uD83D\uDCAC Slack Alerts"}),(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Add ",(0,r.jsx)("strong",{children:"Slack"})," node to send messages to #compliance channel when clients are missing required documents."]})]}),(0,r.jsxs)("div",{className:"border-l-4 border-orange-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"\uD83D\uDD14 Webhook Triggers"}),(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Replace ",(0,r.jsx)("strong",{children:"Manual Trigger"})," with ",(0,r.jsx)("strong",{children:"Webhook"})," to automatically run audits when clients upload new documents."]})]}),(0,r.jsxs)("div",{className:"border-l-4 border-red-400 pl-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"\uD83D\uDCCA CRM Integration"}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:"Connect to your CRM to automatically create tasks when documents are missing or update client records with audit results."})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"N8N-Compatible Endpoints"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"The Client RAG Service provides special endpoints designed for N8N workflows:"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"POST /n8n/audit-checklist"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"Run a complete audit with structured output"}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,r.jsx)("strong",{children:"Endpoint:"})," ",(0,r.jsx)("code",{className:"bg-white px-1 rounded",children:"http://client-rag-service:8104/n8n/audit-checklist"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"POST /n8n/query"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"Simple document query with clean JSON response"}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,r.jsx)("strong",{children:"Endpoint:"})," ",(0,r.jsx)("code",{className:"bg-white px-1 rounded",children:"http://client-rag-service:8104/n8n/query"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"GET /n8n/workflows"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"List all available workflow templates"}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,r.jsx)("strong",{children:"Endpoint:"})," ",(0,r.jsx)("code",{className:"bg-white px-1 rounded",children:"http://client-rag-service:8104/n8n/workflows"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Testing the API"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"Test the endpoints directly before building workflows:"}),(0,r.jsx)("div",{className:"bg-gray-900 text-green-400 p-4 rounded text-xs overflow-x-auto mb-4",children:'# List available workflows\ncurl http://localhost:8104/n8n/workflows\n\n# Run a simple query\ncurl -X POST http://localhost:8104/n8n/query \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "client_id": "john-smith",\n    "query": "Does the client have proof of income?",\n    "return_sources": true\n  }\'\n\n# Run a full audit\ncurl -X POST http://localhost:8104/n8n/audit-checklist \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "client_id": "john-smith",\n    "strict_mode": false,\n    "checklist": [\n      {\n        "item": "Proof of Income",\n        "required": true,\n        "query": "Does the client have proof of income?",\n        "category": "financial"\n      }\n    ]\n  }\''})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Troubleshooting"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-red-50 p-4 rounded",children:[(0,r.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:'Problem: All checks fail with "not found"'}),(0,r.jsxs)("p",{className:"text-sm text-red-800",children:[(0,r.jsx)("strong",{children:"Solution:"})," Verify client_id matches uploaded documents. Check available clients at",(0,r.jsx)("code",{className:"bg-white px-1 rounded",children:"GET /clients"})]})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 p-4 rounded",children:[(0,r.jsx)("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Problem: Low confidence scores"}),(0,r.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,r.jsx)("strong",{children:"Solution:"}),' Make queries more specific (e.g., "Does the client have payslips from the last 3 months?" instead of "Income proof?")']})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded",children:[(0,r.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Problem: Workflow takes too long"}),(0,r.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,r.jsx)("strong",{children:"Solution:"})," Reduce checklist size, set ",(0,r.jsx)("code",{className:"bg-white px-1 rounded",children:"return_sources: false"}),", or enable ",(0,r.jsx)("code",{className:"bg-white px-1 rounded",children:"strict_mode: true"})," to fail fast"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Best Practices"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-green-900 mb-2",children:"✅ Do This"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,r.jsx)("li",{children:"• Use clear, specific queries"}),(0,r.jsx)("li",{children:"• Start with small checklists (2-3 items) for testing"}),(0,r.jsx)("li",{children:"• Mark only truly mandatory items as required"}),(0,r.jsx)("li",{children:"• Use meaningful categories"}),(0,r.jsx)("li",{children:"• Test endpoints before building workflows"}),(0,r.jsx)("li",{children:"• Check logs when troubleshooting"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-red-900 mb-2",children:"❌ Don't Do This"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,r.jsx)("li",{children:'• Vague queries like "Documents?"'}),(0,r.jsx)("li",{children:"• Mark everything as required"}),(0,r.jsx)("li",{children:"• Ignore confidence scores"}),(0,r.jsx)("li",{children:"• Skip testing individual endpoints"}),(0,r.jsx)("li",{children:"• Use production data while testing"}),(0,r.jsx)("li",{children:"• Forget to activate workflows"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Additional Resources"}),(0,r.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)(_.Z,{className:"h-5 w-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Full Guide:"})," ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"/services/n8n/workflows/AUDIT_AGENT_GUIDE.md"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Comprehensive 300+ line documentation with examples"})]})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)(_.Z,{className:"h-5 w-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Quick Reference:"})," ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"/N8N_INTEGRATION_SUMMARY.md"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Quick setup and API testing examples"})]})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)(_.Z,{className:"h-5 w-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Workflow File:"})," ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"/services/n8n/workflows/client-audit-agent.json"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Ready-to-import N8N workflow"})]})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)(W.Z,{className:"h-5 w-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"API Docs:"})," ",(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:"http://localhost:8104/docs"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Interactive API documentation"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Summary"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"N8N workflows transform manual document checking into automated, consistent, AI-powered audits. The pre-built Audit Agent workflow is ready to use immediately and can be customized for your specific needs."}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900 mb-2",children:"Quick Stats:"}),(0,r.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,r.jsxs)("li",{children:["⏱️ ",(0,r.jsx)("strong",{children:"10-minute manual check → 30-second automated audit"})]}),(0,r.jsxs)("li",{children:["\uD83C\uDFAF ",(0,r.jsx)("strong",{children:"100% consistent"})," - Same criteria for all clients"]}),(0,r.jsxs)("li",{children:["\uD83E\uDD16 ",(0,r.jsx)("strong",{children:"AI-powered"})," - Understands document content, not just filenames"]}),(0,r.jsxs)("li",{children:["\uD83D\uDD12 ",(0,r.jsx)("strong",{children:"Privacy-first"})," - All processing happens locally"]}),(0,r.jsxs)("li",{children:["\uD83D\uDCCA ",(0,r.jsx)("strong",{children:"Audit trail"})," - Complete records for compliance"]})]})]})]})]})]})}function et(){return(0,r.jsxs)("div",{className:"prose max-w-none",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Troubleshooting Guide"}),(0,r.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(Z.Z,{className:"h-5 w-5 text-yellow-400 mr-3 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Quick Diagnostics"}),(0,r.jsx)("p",{className:"text-sm text-yellow-700",children:"Most issues can be resolved by checking logs and service status. Start here before diving into specific problems."})]})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Common Issues"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"\uD83D\uDD34 Services Won't Start"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Symptoms:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 mb-3",children:[(0,r.jsx)("li",{children:"Dashboard not accessible"}),(0,r.jsx)("li",{children:"Connection refused errors"}),(0,r.jsx)("li",{children:"Docker containers exiting"})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Solutions:"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-2",children:"# Check Docker is running\ndocker ps\n\n# Check service status\ndocker-compose ps\n\n# View logs\ndocker-compose logs --tail=50\n\n# Restart everything\ndocker-compose down\ndocker-compose up -d\n\n# Check system resources\ndocker stats"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Common Causes:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 text-sm",children:[(0,r.jsx)("li",{children:"Insufficient memory (need 16GB+)"}),(0,r.jsx)("li",{children:"Port conflicts (3000, 8100-8103, 11434 already in use)"}),(0,r.jsx)("li",{children:"Docker daemon not running"}),(0,r.jsx)("li",{children:"Corrupted volumes"})]})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"\uD83D\uDD34 Ollama Not Responding"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Symptoms:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 mb-3",children:[(0,r.jsx)("li",{children:'"Ollama service not available"'}),(0,r.jsx)("li",{children:"Notes conversion times out"}),(0,r.jsx)("li",{children:"RAG queries fail"})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Solutions:"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-2",children:"# Check Ollama logs\ndocker logs rma-ollama --tail=100\n\n# Check if models are loaded\ndocker exec rma-ollama ollama list\n\n# Pull models if missing\ndocker exec rma-ollama ollama pull llama3.2\ndocker exec rma-ollama ollama pull nomic-embed-text\n\n# Restart Ollama\ndocker restart rma-ollama\n\n# Test Ollama\ncurl http://localhost:11434/api/tags"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"GPU Issues:"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm",children:"# Check GPU is accessible\ndocker run --rm --gpus all nvidia/cuda:12.2.0-base-ubuntu22.04 nvidia-smi\n\n# If GPU not found, check NVIDIA Docker runtime\nsudo systemctl restart docker\n\n# Or disable GPU and use CPU only\n# Edit docker-compose.yml, remove 'runtime: nvidia'"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"\uD83D\uDD34 Document Processing Fails"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Symptoms:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 mb-3",children:[(0,r.jsx)("li",{children:"Uploads succeed but no markdown generated"}),(0,r.jsx)("li",{children:'"Processing error" messages'}),(0,r.jsx)("li",{children:"PDFs not converting"})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Solutions:"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-2",children:'# Check doc-processor logs\ndocker logs rma-doc-processor --tail=100\n\n# Verify LLamaParse API key\ndocker exec rma-doc-processor printenv | grep LLAMA_PARSE\n\n# Test Tesseract fallback\ndocker exec rma-doc-processor tesseract --version\n\n# Restart processor\ndocker restart rma-doc-processor\n\n# Test processing\ncurl -X POST http://localhost:8101/process \\\n  -F "file=@test.pdf"'}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Common Causes:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 text-sm",children:[(0,r.jsx)("li",{children:"Invalid LLamaParse API key"}),(0,r.jsx)("li",{children:"File too large (limit: 50MB)"}),(0,r.jsx)("li",{children:"Unsupported file format"}),(0,r.jsx)("li",{children:"Insufficient memory"})]})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"\uD83D\uDD34 RAG/Manuals Not Working"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Symptoms:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 mb-3",children:[(0,r.jsx)("li",{children:'"Vector store not initialized"'}),(0,r.jsx)("li",{children:"Questions return no results"}),(0,r.jsx)("li",{children:"ChromaDB connection errors"})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Solutions:"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-2",children:'# Check ChromaDB\ndocker logs rma-chromadb --tail=50\ncurl http://localhost:8005/api/v1/heartbeat\n\n# Check RAG service\ndocker logs rma-rag-service --tail=50\ncurl http://localhost:8102/stats\n\n# Ingest manuals\n./scripts/ingest-manuals.sh\n\n# Or manually\ncurl -X POST http://localhost:8102/ingest \\\n  -H "Content-Type: application/json" \\\n  -d \'{"documents": ["text"], "filenames": ["test.pdf"]}\'\n\n# Restart services\ndocker restart rma-chromadb rma-rag-service'})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"\uD83D\uDD34 Authentication Issues"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Symptoms:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 mb-3",children:[(0,r.jsx)("li",{children:"Cannot log in"}),(0,r.jsx)("li",{children:'"Invalid token" errors'}),(0,r.jsx)("li",{children:"Session expires immediately"})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Solutions:"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-2",children:"# Check JWT_SECRET is set\ncat .env | grep JWT_SECRET\n\n# Default credentials\n# Username: admin\n# Password: admin123\n\n# Reset password (edit upload-service)\ndocker exec -it rma-upload-service /bin/sh\n# Edit app.py USERS dictionary\n\n# Check upload service logs\ndocker logs rma-upload-service --tail=50"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"\uD83D\uDD34 Frontend Can't Connect to Services"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Symptoms:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-700 mb-3",children:[(0,r.jsx)("li",{children:"Dashboard loads but features don't work"}),(0,r.jsx)("li",{children:"Network errors in browser console"}),(0,r.jsx)("li",{children:"CORS errors"})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Solutions:"})}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-2",children:"# Check service URLs\ncat .env | grep NEXT_PUBLIC\n\n# For local deployment, should be:\n# NEXT_PUBLIC_NOTES_SERVICE_URL=http://localhost:8100\n# etc.\n\n# Check all services are running\ndocker-compose ps\n\n# Check browser console (F12)\n# Look for failed network requests\n\n# Verify ports are accessible\ncurl http://localhost:8100/health\ncurl http://localhost:8101/health\ncurl http://localhost:8102/health\ncurl http://localhost:8103/health"})]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Performance Issues"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"⚠️ Slow Response Times"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:(0,r.jsx)("strong",{children:"Causes & Solutions:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-gray-700 text-sm",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"No GPU:"})," LLM inference is slow on CPU",(0,r.jsxs)("ul",{className:"list-disc list-inside ml-6 mt-1",children:[(0,r.jsx)("li",{children:"Install NVIDIA Docker runtime"}),(0,r.jsx)("li",{children:"Or use smaller model: llama3.2:1b instead of llama3.2"}),(0,r.jsx)("li",{children:"Or increase CPU resources"})]})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Insufficient RAM:"})," System swapping to disk",(0,r.jsxs)("ul",{className:"list-disc list-inside ml-6 mt-1",children:[(0,r.jsx)("li",{children:"Increase Docker memory limit"}),(0,r.jsx)("li",{children:"Close other applications"}),(0,r.jsx)("li",{children:"Use smaller batch sizes"})]})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Large Documents:"})," OCR takes time",(0,r.jsxs)("ul",{className:"list-disc list-inside ml-6 mt-1",children:[(0,r.jsx)("li",{children:"Expected: 30-60s for 10-page PDF"}),(0,r.jsx)("li",{children:"Reduce image quality in PDFs"}),(0,r.jsx)("li",{children:"Process in batches"})]})]})]}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mt-3",children:"# Monitor resource usage\ndocker stats\n\n# Check swap usage\nfree -h\n\n# If swapping, increase memory:\n# Edit docker-compose.yml\nservices:\n  ollama:\n    mem_limit: 8g\n    memswap_limit: 8g"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"⚠️ Disk Space Issues"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-2",children:"# Check disk usage\ndf -h\ndocker system df\n\n# Clean up Docker\ndocker system prune -a --volumes\n\n# Backup and clean old uploads\ntar czf backup.tar.gz data/uploads\nrm -rf data/uploads/old_client_folders\n\n# Remove unused models\ndocker exec rma-ollama ollama rm old-model"})]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"AWS/Kubernetes Issues"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"☁️ Pods Not Starting"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-2",children:"# Check pod status\nkubectl get pods -n rma-demo\n\n# Describe problematic pod\nkubectl describe pod POD_NAME -n rma-demo\n\n# Check logs\nkubectl logs POD_NAME -n rma-demo\n\n# Common issues:\n# - ImagePullBackOff: Check ECR permissions\n# - CrashLoopBackOff: Check logs for errors\n# - Pending: Insufficient resources or GPU nodes not ready"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"☁️ GPU Node Issues"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-2",children:"# Check GPU nodes\nkubectl get nodes -l workload=gpu\n\n# Check NVIDIA plugin\nkubectl get pods -n kube-system | grep nvidia\n\n# If not found, reinstall\nkubectl apply -f https://raw.githubusercontent.com/NVIDIA/k8s-device-plugin/v0.14.0/nvidia-device-plugin.yml\n\n# Test GPU\nkubectl run gpu-test --rm -it --restart=Never \\\n  --image=nvidia/cuda:12.2.0-base-ubuntu22.04 \\\n  --limits=nvidia.com/gpu=1 \\\n  -- nvidia-smi"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"☁️ Load Balancer Not Accessible"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm mb-2",children:'# Check service\nkubectl get svc frontend -n rma-demo\n\n# Check security groups\naws ec2 describe-security-groups \\\n  --filters "Name=tag:kubernetes.io/cluster/rma-demo-cluster,Values=owned"\n\n# Should allow:\n# - Port 80 (HTTP)\n# - Port 443 (HTTPS)\n# - Your IP for management\n\n# Check Load Balancer health\naws elbv2 describe-target-health \\\n  --target-group-arn YOUR_TARGET_GROUP_ARN'})]})]}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Getting Help"}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"Before Asking for Help"}),(0,r.jsx)("p",{className:"text-blue-800 text-sm mb-2",children:"Gather this information:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside text-blue-800 text-sm space-y-1",children:[(0,r.jsx)("li",{children:"Deployment type (local Docker, AWS EKS, etc.)"}),(0,r.jsx)("li",{children:"Error messages (full text)"}),(0,r.jsx)("li",{children:"Recent logs from affected services"}),(0,r.jsx)("li",{children:"Steps to reproduce the issue"}),(0,r.jsx)("li",{children:"System specifications (RAM, CPU, GPU)"}),(0,r.jsx)("li",{children:"Recent changes made before issue appeared"})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Useful Diagnostic Commands"}),(0,r.jsx)("pre",{className:"bg-gray-900 text-green-400 p-3 rounded overflow-x-auto text-sm",children:"# Full system status\ndocker-compose ps\ndocker stats --no-stream\ndf -h\nfree -h\n\n# All service logs\ndocker-compose logs --tail=100 > all-logs.txt\n\n# Service health checks\ncurl http://localhost:8100/health\ncurl http://localhost:8101/health\ncurl http://localhost:8102/health\ncurl http://localhost:8103/health\n\n# Network connectivity\ndocker network inspect rma-network\n\n# For AWS/K8s\nkubectl get all -n rma-demo\nkubectl top nodes\nkubectl top pods -n rma-demo"})]})]})}var er=t(7211),el=t(5159),ea=t(3441);let en="https://api.rmatool.org.uk/api/service/rag",ei=()=>{try{let e=new URL(en);if("localhost"===e.hostname||"127.0.0.1"===e.hostname){let s=window.location.hostname;if(s&&"localhost"!==s&&"127.0.0.1"!==s)return"".concat(window.location.protocol,"//").concat(s,":").concat(e.port)}return en}catch(e){return en}};function ec(){let[e,s]=(0,l.useState)(null),[t,a]=(0,l.useState)(null),[n,i]=(0,l.useState)(!1),[c,o]=(0,l.useState)(""),[d,x]=(0,l.useState)(""),[m,h]=(0,l.useState)(new Set),[u,b]=(0,l.useState)(50),[p,j]=(0,l.useState)(0),[y,f]=(0,l.useState)("");(0,l.useEffect)(()=>{N(),v()},[]);let N=async()=>{try{let e=await fetch("".concat(ei(),"/debug/sources"));if(!e.ok)throw Error("Failed to load sources");let s=await e.json();a(s)}catch(e){console.error("Error loading sources:",e)}},v=async(e,t)=>{i(!0),o("");try{let r=new URLSearchParams({limit:u.toString(),offset:(null!=t?t:p).toString()});e&&r.append("source",e);let l=await fetch("".concat(ei(),"/debug/documents?").concat(r));if(!l.ok)throw Error("Failed to load documents");let a=await l.json();s(a)}catch(e){o(e instanceof Error?e.message:"Failed to load debug data")}finally{i(!1)}},w=e=>{x(e),j(0),v(e,0)},D=e=>{let s=new Set(m);s.has(e)?s.delete(e):s.add(e),h(s)},P=(null==e?void 0:e.documents.filter(e=>""===y||e.text.toLowerCase().includes(y.toLowerCase())||e.source.toLowerCase().includes(y.toLowerCase())))||[];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(k.Zb,{children:[(0,r.jsxs)(k.Ol,{children:[(0,r.jsxs)(k.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(T.Z,{className:"h-5 w-5"}),"Vector Store Debug Viewer"]}),(0,r.jsx)(k.SZ,{children:"View raw chunks stored in the vector database to verify manual content"})]}),(0,r.jsxs)(k.aY,{className:"space-y-4",children:[c&&(0,r.jsxs)(A.bZ,{variant:"destructive",children:[(0,r.jsx)(B.Z,{className:"h-4 w-4"}),(0,r.jsx)(A.X,{children:c})]}),(0,r.jsxs)("div",{className:"flex items-end gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)(C._,{htmlFor:"search",children:"Search in chunks"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(R.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(S.I,{id:"search",type:"text",value:y,onChange:e=>f(e.target.value),placeholder:"Search text in chunks...",className:"pl-10"})]})]}),(0,r.jsxs)(g.z,{onClick:()=>{N(),v(d||void 0)},variant:"outline",className:"flex items-center gap-2",children:[(0,r.jsx)(q.Z,{className:"h-4 w-4 ".concat(n?"animate-spin":"")}),"Refresh"]})]}),t&&t.sources.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(C._,{className:"flex items-center gap-2",children:[(0,r.jsx)(er.Z,{className:"h-4 w-4"}),"Filter by Source Manual"]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)(g.z,{size:"sm",variant:""===d?"default":"outline",onClick:()=>w(""),children:["All Sources (",t.total_sources,")"]}),t.sources.map(e=>(0,r.jsx)(g.z,{size:"sm",variant:d===e?"default":"outline",onClick:()=>w(e),children:e},e))]})]}),e&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-semibold text-blue-900",children:["Total Chunks: ",e.total]}),(0,r.jsxs)("p",{className:"text-sm text-blue-700",children:["Showing ",p+1," - ",Math.min(p+u,e.total)," of ",e.total,d&&" (filtered by: ".concat(d,")")]}),y&&(0,r.jsxs)("p",{className:"text-sm text-blue-700",children:["Found ",P.length," matching chunks"]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(g.z,{size:"sm",variant:"outline",onClick:()=>{let e=Math.max(0,p-u);j(e),v(d||void 0,e)},disabled:0===p||n,children:"Previous"}),(0,r.jsx)(g.z,{size:"sm",variant:"outline",onClick:()=>{let e=p+u;j(e),v(d||void 0,e)},disabled:p+u>=e.total||n,children:"Next"})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:P.map(e=>{let s=m.has(e.id);return(0,r.jsxs)(k.Zb,{className:"overflow-hidden",children:[(0,r.jsx)("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>D(e.id),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,r.jsx)(_.Z,{className:"h-5 w-5 text-blue-600 mt-1 flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:e.source}),(0,r.jsxs)("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:["Chunk ",e.chunk]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.preview}),!s&&e.text.length>200&&(0,r.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["Click to view full text (",e.text.length," characters)"]})]})]}),s?(0,r.jsx)(el.Z,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}):(0,r.jsx)(ea.Z,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]})}),s&&(0,r.jsxs)("div",{className:"border-t bg-gray-50 p-4",children:[(0,r.jsx)(C._,{className:"text-xs text-gray-600 mb-2 block",children:"Full Chunk Text:"}),(0,r.jsx)("pre",{className:"text-sm whitespace-pre-wrap bg-white p-4 rounded border overflow-auto max-h-96",children:e.text}),(0,r.jsxs)("div",{className:"mt-3 flex gap-4 text-xs text-gray-600",children:[(0,r.jsxs)("span",{children:["ID: ",e.id]}),(0,r.jsxs)("span",{children:["Length: ",e.text.length," chars"]})]})]})]},e.id)})}),0===P.length&&(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,r.jsx)(T.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,r.jsxs)("p",{children:["No chunks found",y&&" matching your search"]})]})]}),!e&&!n&&(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,r.jsx)(B.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,r.jsx)("p",{children:"No vector store data available"}),(0,r.jsx)("p",{className:"text-sm",children:"Ingest some manuals first"})]})]})]}),(0,r.jsxs)(k.Zb,{children:[(0,r.jsx)(k.Ol,{children:(0,r.jsx)(k.ll,{children:"How to Use This Debug View"})}),(0,r.jsxs)(k.aY,{className:"space-y-3 text-sm text-gray-700",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Purpose:"})," This view shows the actual text chunks stored in the vector database that are used to answer questions."]}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,r.jsx)("li",{children:"Each chunk is a piece of text from your training manuals"}),(0,r.jsx)("li",{children:"When you ask a question, the system searches these chunks for relevant information"}),(0,r.jsx)("li",{children:"If answers are wrong, check if the chunks contain the correct information"}),(0,r.jsx)("li",{children:"Use filters to narrow down to specific manuals"}),(0,r.jsx)("li",{children:"Search to find specific text or figures"})]}),(0,r.jsxs)(A.bZ,{className:"bg-yellow-50 border-yellow-200",children:[(0,r.jsx)(B.Z,{className:"h-4 w-4 text-yellow-600"}),(0,r.jsxs)(A.X,{className:"text-yellow-800",children:[(0,r.jsx)("strong",{children:"Debugging Tips:"})," If you get wrong answers, search for the specific figures or facts mentioned. If they're not in any chunk, the manuals may be incomplete. If they ARE in chunks but still wrong, the AI might be hallucinating or misinterpreting."]})]})]})]})]})}let eo=(0,t(9769).j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ed(e){var{className:s,variant:t}=e,l=(0,c._)(e,["className","variant"]);return(0,r.jsx)("div",(0,i._)({className:(0,d.cn)(eo({variant:t}),s)},l))}var ex=t(7976),em=t(1524),eh=t(1483),eu=t(3329),eg=t(4059),eb=t(9733),ep=t(5032);let ej="https://api.rmatool.org.uk";function ey(){var e,s,t,a,n,i,c,o,d,x,m,h,u,b;let[p,j]=(0,l.useState)([]),[y,f]=(0,l.useState)(null),[N,v]=(0,l.useState)(null),[w,S]=(0,l.useState)(!0),[C,A]=(0,l.useState)(null),[D,P]=(0,l.useState)(new Date),R=async()=>{try{let[e,s,t]=await Promise.all([fetch("".concat(ej,"/api/admin/workers")),fetch("".concat(ej,"/api/admin/stats")),fetch("".concat(ej,"/api/admin/health"))]);if(!e.ok||!s.ok||!t.ok)throw Error("Failed to fetch system data");let r=await e.json(),l=await s.json(),a=await t.json();j(r.workers||[]),f(l),v(a),A(null),P(new Date)}catch(e){A(e instanceof Error?e.message:"Unknown error")}finally{S(!1)}};(0,l.useEffect)(()=>{R();let e=setInterval(R,1e4);return()=>clearInterval(e)},[]);let _=e=>{switch(e){case"healthy":return(0,r.jsx)(ex.Z,{className:"h-4 w-4 text-green-600"});case"degraded":return(0,r.jsx)(em.Z,{className:"h-4 w-4 text-yellow-600"});case"offline":return(0,r.jsx)(eh.Z,{className:"h-4 w-4 text-red-600"});default:return null}},I=e=>{switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"offline":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=e=>{switch(e){case 1:return(0,r.jsx)(eu.Z,{className:"h-4 w-4"});case 2:return(0,r.jsx)(U.Z,{className:"h-4 w-4"});case 3:return(0,r.jsx)(T.Z,{className:"h-4 w-4"});default:return null}},L=e=>{switch(e){case 1:return"GPU Worker";case 2:return"Service Worker";case 3:return"Data Worker";default:return"Unknown"}},G=e=>e>.8?"bg-red-500":e>.5?"bg-yellow-500":"bg-green-500";return w?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,r.jsx)(q.Z,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,r.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading system status..."})]}):C?(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(eh.Z,{className:"h-5 w-5 text-red-600"}),(0,r.jsx)("h3",{className:"font-semibold text-red-900",children:"Connection Error"})]}),(0,r.jsx)("p",{className:"text-red-700 mb-4",children:C}),(0,r.jsxs)("p",{className:"text-sm text-red-600 mb-4",children:["Make sure the coordinator service is running at: ",(0,r.jsx)("code",{className:"bg-red-100 px-2 py-1 rounded",children:ej})]}),(0,r.jsxs)(g.z,{onClick:R,variant:"outline",size:"sm",children:[(0,r.jsx)(q.Z,{className:"h-4 w-4 mr-2"}),"Retry"]})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"System Orchestrator"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Distributed worker pool monitoring and management"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["Last updated: ",D.toLocaleTimeString()]}),(0,r.jsxs)(g.z,{onClick:R,variant:"outline",size:"sm",children:[(0,r.jsx)(q.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)(k.Zb,{children:[(0,r.jsx)(k.Ol,{className:"pb-2",children:(0,r.jsx)(k.ll,{className:"text-sm font-medium text-gray-600",children:"System Health"})}),(0,r.jsx)(k.aY,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(null==N?void 0:N.overall_status)==="healthy"?(0,r.jsx)(ex.Z,{className:"h-8 w-8 text-green-600"}):(null==N?void 0:N.overall_status)==="degraded"?(0,r.jsx)(em.Z,{className:"h-8 w-8 text-yellow-600"}):(0,r.jsx)(eh.Z,{className:"h-8 w-8 text-red-600"}),(0,r.jsx)("span",{className:"text-2xl font-bold capitalize",children:(null==N?void 0:N.overall_status)||"Unknown"})]})})]}),(0,r.jsxs)(k.Zb,{children:[(0,r.jsx)(k.Ol,{className:"pb-2",children:(0,r.jsx)(k.ll,{className:"text-sm font-medium text-gray-600",children:"Active Workers"})}),(0,r.jsx)(k.aY,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eg.Z,{className:"h-8 w-8 text-blue-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:(null==y?void 0:y.total_workers)||0}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[(null==y?void 0:y.healthy_workers)||0," healthy"]})]})]})})]}),(0,r.jsxs)(k.Zb,{children:[(0,r.jsx)(k.Ol,{className:"pb-2",children:(0,r.jsx)(k.ll,{className:"text-sm font-medium text-gray-600",children:"GPU Workers"})}),(0,r.jsx)(k.aY,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eu.Z,{className:"h-8 w-8 text-purple-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:(null==y?void 0:null===(e=y.workers_by_tier)||void 0===e?void 0:e.gpu_workers)||0}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[(100*((null==y?void 0:null===(s=y.average_load_by_tier)||void 0===s?void 0:s.gpu_workers)||0)).toFixed(0),"% avg load"]})]})]})})]}),(0,r.jsxs)(k.Zb,{children:[(0,r.jsx)(k.Ol,{className:"pb-2",children:(0,r.jsx)(k.ll,{className:"text-sm font-medium text-gray-600",children:"Tasks Completed"})}),(0,r.jsx)(k.aY,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eb.Z,{className:"h-8 w-8 text-green-600"}),(0,r.jsx)("div",{className:"text-2xl font-bold",children:(null==y?void 0:y.total_tasks_completed)||0})]})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)(k.Zb,{children:[(0,r.jsx)(k.Ol,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eu.Z,{className:"h-5 w-5 text-purple-600"}),(0,r.jsx)(k.ll,{className:"text-sm font-medium",children:"Tier 1: GPU Workers"})]})}),(0,r.jsxs)(k.aY,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:(null==y?void 0:null===(t=y.workers_by_tier)||void 0===t?void 0:t.gpu_workers)||0}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"vLLM, Vision Models"}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Average Load"}),(0,r.jsxs)("span",{className:"font-semibold",children:[(100*((null==y?void 0:null===(a=y.average_load_by_tier)||void 0===a?void 0:a.gpu_workers)||0)).toFixed(0),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full ".concat(G((null==y?void 0:null===(n=y.average_load_by_tier)||void 0===n?void 0:n.gpu_workers)||0)),style:{width:"".concat(100*((null==y?void 0:null===(i=y.average_load_by_tier)||void 0===i?void 0:i.gpu_workers)||0),"%")}})})]})]})]}),(0,r.jsxs)(k.Zb,{children:[(0,r.jsx)(k.Ol,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(U.Z,{className:"h-5 w-5 text-blue-600"}),(0,r.jsx)(k.ll,{className:"text-sm font-medium",children:"Tier 2: Service Workers"})]})}),(0,r.jsxs)(k.aY,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:(null==y?void 0:null===(c=y.workers_by_tier)||void 0===c?void 0:c.service_workers)||0}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"RAG, Notes, NER"}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Average Load"}),(0,r.jsxs)("span",{className:"font-semibold",children:[(100*((null==y?void 0:null===(o=y.average_load_by_tier)||void 0===o?void 0:o.service_workers)||0)).toFixed(0),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full ".concat(G((null==y?void 0:null===(d=y.average_load_by_tier)||void 0===d?void 0:d.service_workers)||0)),style:{width:"".concat(100*((null==y?void 0:null===(x=y.average_load_by_tier)||void 0===x?void 0:x.service_workers)||0),"%")}})})]})]})]}),(0,r.jsxs)(k.Zb,{children:[(0,r.jsx)(k.Ol,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(T.Z,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)(k.ll,{className:"text-sm font-medium",children:"Tier 3: Data Workers"})]})}),(0,r.jsxs)(k.aY,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-green-600",children:(null==y?void 0:null===(m=y.workers_by_tier)||void 0===m?void 0:m.data_workers)||0}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"PostgreSQL, Neo4j, Redis"}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Average Load"}),(0,r.jsxs)("span",{className:"font-semibold",children:[(100*((null==y?void 0:null===(h=y.average_load_by_tier)||void 0===h?void 0:h.data_workers)||0)).toFixed(0),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full ".concat(G((null==y?void 0:null===(u=y.average_load_by_tier)||void 0===u?void 0:u.data_workers)||0)),style:{width:"".concat(100*((null==y?void 0:null===(b=y.average_load_by_tier)||void 0===b?void 0:b.data_workers)||0),"%")}})})]})]})]})]}),(0,r.jsxs)(k.Zb,{children:[(0,r.jsxs)(k.Ol,{children:[(0,r.jsxs)(k.ll,{children:["Active Workers (",p.length,")"]}),(0,r.jsx)(k.SZ,{children:"Real-time status of all registered worker nodes"})]}),(0,r.jsx)(k.aY,{children:0===p.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(U.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:"No workers registered yet"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Start a worker using the worker agent to see it appear here"})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Worker ID"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Tier"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Status"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Load"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Containers"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Hardware"}),(0,r.jsx)("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Tasks"})]})}),(0,r.jsx)("tbody",{children:p.map(e=>(0,r.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsx)("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.worker_id})}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[E(e.tier),(0,r.jsx)("span",{className:"text-sm",children:L(e.tier)})]})}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsx)(ed,{className:I(e.status),children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[_(e.status),e.status]})})}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2 mb-1",children:(0,r.jsx)("div",{className:"h-2 rounded-full ".concat(G(e.current_load)),style:{width:"".concat(100*e.current_load,"%")}})}),(0,r.jsxs)("span",{className:"text-xs text-gray-600",children:[(100*e.current_load).toFixed(0),"%"]})]})}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsx)("div",{className:"space-y-1",children:e.assigned_containers.map((e,s)=>(0,r.jsx)("div",{className:"text-xs text-gray-600",children:e.replace("rma-","").replace("-worker","")},s))})}),(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[e.capabilities.gpu_type&&(0,r.jsx)("div",{children:e.capabilities.gpu_type}),(0,r.jsxs)("div",{children:[e.capabilities.cpu_cores," cores"]}),(0,r.jsxs)("div",{children:[e.capabilities.ram," RAM"]})]})}),(0,r.jsx)("td",{className:"py-3 px-4 text-right",children:(0,r.jsx)("span",{className:"text-sm font-semibold",children:e.tasks_completed})})]},e.worker_id))})]})})})]}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(ep.Z,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-900 mb-1",children:"Distributed System Active"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Workers are automatically load-balanced across requests. Add more workers anytime to scale capacity."}),(0,r.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["Coordinator: ",(0,r.jsx)("code",{className:"bg-blue-100 px-2 py-0.5 rounded",children:ej})]})]})]})})]})}var ef=t(1049),eN=t(4704),ev=t(8008);function ew(){let[e,s]=(0,l.useState)("notes"),{isAuthenticated:t,username:i,logout:c,loading:o}=(0,b.useAuth)(),d=(0,a.useRouter)();return((0,l.useEffect)(()=>{o||t||d.push("/advisor-login")},[o,t,d]),o)?(0,r.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(q.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):t?(0,r.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("header",{className:"mb-8 flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"RMA Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Risk Management Advice - Advisor Portal"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Logged in as: ",(0,r.jsx)("span",{className:"font-semibold",children:i})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(n.default,{href:"/advisor-dashboard",children:(0,r.jsx)(g.z,{variant:"outline",children:"View Client Uploads"})}),(0,r.jsxs)(g.z,{onClick:c,variant:"destructive",className:"flex items-center gap-2",children:[(0,r.jsx)(ef.Z,{className:"h-4 w-4"}),"Logout"]})]})]}),(0,r.jsxs)(x,{value:e,onValueChange:s,className:"w-full",children:[(0,r.jsxs)(m,{className:"grid w-full grid-cols-7 mb-8",children:[(0,r.jsxs)(h,{value:"notes",className:"flex items-center gap-2",children:[(0,r.jsx)(_.Z,{className:"h-4 w-4"}),"Notes to CoA"]}),(0,r.jsxs)(h,{value:"qr",className:"flex items-center gap-2",children:[(0,r.jsx)(eN.Z,{className:"h-4 w-4"}),"Client QR Codes"]}),(0,r.jsxs)(h,{value:"client-search",className:"flex items-center gap-2",children:[(0,r.jsx)(R.Z,{className:"h-4 w-4"}),"Search Client Docs"]}),(0,r.jsxs)(h,{value:"manuals",className:"flex items-center gap-2",children:[(0,r.jsx)(E.Z,{className:"h-4 w-4"}),"Ask the Manuals"]}),(0,r.jsxs)(h,{value:"system",className:"flex items-center gap-2",children:[(0,r.jsx)(ep.Z,{className:"h-4 w-4"}),"System"]}),(0,r.jsxs)(h,{value:"debug",className:"flex items-center gap-2",children:[(0,r.jsx)(ev.Z,{className:"h-4 w-4"}),"Debug"]}),(0,r.jsxs)(h,{value:"docs",className:"flex items-center gap-2",children:[(0,r.jsx)(L.Z,{className:"h-4 w-4"}),"Documentation"]})]}),(0,r.jsx)(u,{value:"notes",children:(0,r.jsx)(j,{})}),(0,r.jsx)(u,{value:"qr",children:(0,r.jsx)(f,{})}),(0,r.jsx)(u,{value:"client-search",children:(0,r.jsx)(I,{})}),(0,r.jsx)(u,{value:"manuals",children:(0,r.jsx)(w,{})}),(0,r.jsx)(u,{value:"system",children:(0,r.jsx)(ey,{})}),(0,r.jsx)(u,{value:"debug",children:(0,r.jsx)(ec,{})}),(0,r.jsx)(u,{value:"docs",children:(0,r.jsx)(H,{})})]})]})}):null}},9069:function(e,s,t){"use strict";t.d(s,{X:function(){return x},bZ:function(){return d}});var r=t(6846),l=t(5562),a=t(3827),n=t(4090),i=t(9769),c=t(2169);let o=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=n.forwardRef((e,s)=>{var{className:t,variant:n}=e,i=(0,l._)(e,["className","variant"]);return(0,a.jsx)("div",(0,r._)({ref:s,role:"alert",className:(0,c.cn)(o({variant:n}),t)},i))});d.displayName="Alert",n.forwardRef((e,s)=>{var{className:t}=e,n=(0,l._)(e,["className"]);return(0,a.jsx)("h5",(0,r._)({ref:s,className:(0,c.cn)("mb-1 font-medium leading-none tracking-tight",t)},n))}).displayName="AlertTitle";let x=n.forwardRef((e,s)=>{var{className:t}=e,n=(0,l._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:s,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",t)},n))});x.displayName="AlertDescription"},575:function(e,s,t){"use strict";t.d(s,{z:function(){return x}});var r=t(6846),l=t(5562),a=t(3827),n=t(4090),i=t(9143),c=t(9769),o=t(2169);let d=(0,c.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=n.forwardRef((e,s)=>{var{className:t,variant:n,size:c,asChild:x=!1}=e,m=(0,l._)(e,["className","variant","size","asChild"]);let h=x?i.g7:"button";return(0,a.jsx)(h,(0,r._)({className:(0,o.cn)(d({variant:n,size:c,className:t})),ref:s},m))});x.displayName="Button"},5671:function(e,s,t){"use strict";t.d(s,{Ol:function(){return o},SZ:function(){return x},Zb:function(){return c},aY:function(){return m},ll:function(){return d}});var r=t(6846),l=t(5562),a=t(3827),n=t(4090),i=t(2169);let c=n.forwardRef((e,s)=>{var{className:t}=e,n=(0,l._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},n))});c.displayName="Card";let o=n.forwardRef((e,s)=>{var{className:t}=e,n=(0,l._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t)},n))});o.displayName="CardHeader";let d=n.forwardRef((e,s)=>{var{className:t}=e,n=(0,l._)(e,["className"]);return(0,a.jsx)("h3",(0,r._)({ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t)},n))});d.displayName="CardTitle";let x=n.forwardRef((e,s)=>{var{className:t}=e,n=(0,l._)(e,["className"]);return(0,a.jsx)("p",(0,r._)({ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t)},n))});x.displayName="CardDescription";let m=n.forwardRef((e,s)=>{var{className:t}=e,n=(0,l._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:s,className:(0,i.cn)("p-6 pt-0",t)},n))});m.displayName="CardContent",n.forwardRef((e,s)=>{var{className:t}=e,n=(0,l._)(e,["className"]);return(0,a.jsx)("div",(0,r._)({ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t)},n))}).displayName="CardFooter"},2782:function(e,s,t){"use strict";t.d(s,{I:function(){return c}});var r=t(6846),l=t(5562),a=t(3827),n=t(4090),i=t(2169);let c=n.forwardRef((e,s)=>{var{className:t,type:n}=e,c=(0,l._)(e,["className","type"]);return(0,a.jsx)("input",(0,r._)({type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s},c))});c.displayName="Input"},2647:function(e,s,t){"use strict";t.d(s,{_:function(){return x}});var r=t(6846),l=t(5562),a=t(3827),n=t(4090),i=t(4602),c=t(9769),o=t(2169);let d=(0,c.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=n.forwardRef((e,s)=>{var{className:t}=e,n=(0,l._)(e,["className"]);return(0,a.jsx)(i.f,(0,r._)({ref:s,className:(0,o.cn)(d(),t)},n))});x.displayName=i.f.displayName},3779:function(e,s,t){"use strict";t.r(s),t.d(s,{AuthProvider:function(){return i},useAuth:function(){return c}});var r=t(3827),l=t(4090),a=t(7907);let n=(0,l.createContext)(void 0);function i(e){let{children:s}=e,[t,i]=(0,l.useState)(!1),[c,o]=(0,l.useState)(null),[d,x]=(0,l.useState)(null),[m,h]=(0,l.useState)(!0),u=(0,a.useRouter)(),g=(0,a.usePathname)();return(0,l.useEffect)(()=>{let e=localStorage.getItem("advisor_token"),s=localStorage.getItem("advisor_username");e&&s&&(i(!0),o(s),x(e)),h(!1)},[]),(0,l.useEffect)(()=>{if(!m&&!t){let e=["/advisor-login","/client-upload"].some(e=>null==g?void 0:g.startsWith(e));g&&!e&&"/advisor-login"!==g&&u.push("/advisor-login")}},[t,m,g,u]),(0,r.jsx)(n.Provider,{value:{isAuthenticated:t,username:c,token:d,login:(e,s)=>{localStorage.setItem("advisor_token",s),localStorage.setItem("advisor_username",e),i(!0),o(e),x(s)},logout:()=>{localStorage.removeItem("advisor_token"),localStorage.removeItem("advisor_username"),i(!1),o(null),x(null),u.push("/advisor-login")},loading:m},children:s})}function c(){let e=(0,l.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3482:function(e,s,t){"use strict";t.d(s,{Y:function(){return l}});let r=e=>"".concat(window.location.origin,"/api/").concat(e),l={rag:()=>r("rag"),upload:()=>r("upload"),clientRag:()=>r("client-rag"),docProcessor:()=>r("doc-processor"),notes:()=>r("notes")}},2169:function(e,s,t){"use strict";t.d(s,{cn:function(){return a}});var r=t(3167),l=t(1367);function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.m6)((0,r.W)(s))}}},function(e){e.O(0,[908,715,792,987,971,69,744],function(){return e(e.s=3230)}),_N_E=e.O()}]);