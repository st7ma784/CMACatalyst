(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{9099:function(e,t,d){Promise.resolve().then(d.bind(d,5663))},5663:function(e,t,d){"use strict";d.r(t),d.d(t,{default:function(){return s}});var i=d(3827),r=d(4090),l=d(7908),n=()=>{var e,t,d,n;let[o,s]=(0,r.useState)(""),[a,x]=(0,r.useState)(""),[p,c]=(0,r.useState)("MANUAL"),[h,g]=(0,r.useState)(!1),[f,y]=(0,r.useState)(null),[u,b]=(0,r.useState)(null),[m,j]=(0,r.useState)(null),v=async()=>{if(!o.trim()||!a.trim()){b("Please provide both markdown content and document name");return}g(!0),b(null);try{let e=await l.Z.post("http://localhost:8108/extract",{markdown:o,source_document:a,graph_type:p});y(e.data)}catch(d){var e,t;b(l.Z.isAxiosError(d)?(null===(t=d.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.detail)||d.message:"Failed to extract graph")}finally{g(!1)}},C=async e=>{var t;let d=null===(t=e.target.files)||void 0===t?void 0:t[0];if(d)try{let e=await d.text();s(e),x(d.name.replace(/\.[^/.]+$/,""))}catch(e){b("Failed to read file")}};return(0,i.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,i.jsx)("h1",{children:"Neo4j Graph Extraction"}),(0,i.jsxs)("div",{style:{marginBottom:"30px",border:"1px solid #ddd",borderRadius:"8px",padding:"20px",backgroundColor:"#f9f9f9"},children:[(0,i.jsx)("h2",{children:"Extract Entities & Relationships"}),(0,i.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Document Name:"}),(0,i.jsx)("input",{type:"text",value:a,onChange:e=>x(e.target.value),placeholder:"e.g., client-facts or manual-rules",style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ccc",boxSizing:"border-box"}})]}),(0,i.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Graph Type:"}),(0,i.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,i.jsx)("input",{type:"radio",name:"graphType",value:"MANUAL",checked:"MANUAL"===p,onChange:e=>c(e.target.value)}),"Manual Knowledge Base"]}),(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,i.jsx)("input",{type:"radio",name:"graphType",value:"CLIENT",checked:"CLIENT"===p,onChange:e=>c(e.target.value)}),"Client Situation"]})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Markdown Content:"}),(0,i.jsx)("textarea",{value:o,onChange:e=>s(e.target.value),placeholder:"Paste or paste markdown content here...",style:{width:"100%",minHeight:"200px",padding:"10px",borderRadius:"4px",border:"1px solid #ccc",boxSizing:"border-box",fontFamily:"monospace"}})]}),(0,i.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Or Upload File:"}),(0,i.jsx)("input",{type:"file",accept:".md,.txt",onChange:C,style:{padding:"10px",borderRadius:"4px",border:"1px solid #ccc"}})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,i.jsx)("button",{onClick:v,disabled:h||!o.trim()||!a.trim(),style:{padding:"10px 20px",backgroundColor:h?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:h?"not-allowed":"pointer",fontSize:"14px"},children:h?"Extracting...":"Extract Graph"}),(0,i.jsx)("button",{onClick:()=>{s(""),x(""),y(null),b(null)},style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Clear"})]}),u&&(0,i.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"4px",border:"1px solid #f5c6cb"},children:[(0,i.jsx)("strong",{children:"Error:"})," ",u]})]}),f&&(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"30px"},children:[(0,i.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",backgroundColor:"#f9f9f9"},children:[(0,i.jsx)("h2",{children:"Extraction Statistics"}),(0,i.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,i.jsx)("td",{style:{padding:"8px",fontWeight:"bold"},children:"Extraction ID:"}),(0,i.jsxs)("td",{style:{padding:"8px",fontFamily:"monospace",fontSize:"12px"},children:[f.extraction_id.substring(0,12),"..."]})]}),(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,i.jsx)("td",{style:{padding:"8px",fontWeight:"bold"},children:"Graph ID:"}),(0,i.jsxs)("td",{style:{padding:"8px",fontFamily:"monospace",fontSize:"12px"},children:[f.graph_id.substring(0,12),"..."]})]}),(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,i.jsx)("td",{style:{padding:"8px",fontWeight:"bold"},children:"Entities:"}),(0,i.jsx)("td",{style:{padding:"8px",fontSize:"16px",fontWeight:"bold",color:"#007bff"},children:f.entity_count})]}),(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,i.jsx)("td",{style:{padding:"8px",fontWeight:"bold"},children:"Relationships:"}),(0,i.jsx)("td",{style:{padding:"8px",fontSize:"16px",fontWeight:"bold",color:"#28a745"},children:f.relationship_count})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{padding:"8px",fontWeight:"bold"},children:"Avg Confidence:"}),(0,i.jsxs)("td",{style:{padding:"8px",fontSize:"16px",fontWeight:"bold",color:"#ffc107"},children:[(100*f.avg_confidence).toFixed(1),"%"]})]})]})})]}),(0,i.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",backgroundColor:"#f9f9f9"},children:[(0,i.jsxs)("h2",{children:["Entities (",(null===(e=f.entities)||void 0===e?void 0:e.length)||0,")"]}),(0,i.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:null===(t=f.entities)||void 0===t?void 0:t.slice(0,20).map(e=>(0,i.jsxs)("div",{onClick:()=>j(e),style:{padding:"10px",marginBottom:"8px",backgroundColor:(null==m?void 0:m.id)===e.id?"#e7f3ff":"#fff",border:(null==m?void 0:m.id)===e.id?"2px solid #007bff":"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},children:[(0,i.jsx)("div",{style:{fontWeight:"bold",fontSize:"14px"},children:e.text}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:["Type: ",e.entity_type," | Confidence: ",(100*e.confidence).toFixed(0),"%"]})]},e.id))})]}),m&&(0,i.jsxs)("div",{style:{gridColumn:"1 / -1",border:"1px solid #007bff",borderRadius:"8px",padding:"20px",backgroundColor:"#e7f3ff"},children:[(0,i.jsx)("h3",{children:"Selected Entity Details"}),(0,i.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,i.jsx)("td",{style:{padding:"8px",fontWeight:"bold",width:"20%"},children:"Text:"}),(0,i.jsx)("td",{style:{padding:"8px"},children:m.text})]}),(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,i.jsx)("td",{style:{padding:"8px",fontWeight:"bold"},children:"Type:"}),(0,i.jsx)("td",{style:{padding:"8px"},children:m.entity_type})]}),(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,i.jsx)("td",{style:{padding:"8px",fontWeight:"bold"},children:"Confidence:"}),(0,i.jsxs)("td",{style:{padding:"8px"},children:[(100*m.confidence).toFixed(1),"%"]})]}),m.context&&(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,i.jsx)("td",{style:{padding:"8px",fontWeight:"bold"},children:"Context:"}),(0,i.jsx)("td",{style:{padding:"8px"},children:m.context})]})]})})]}),(0,i.jsxs)("div",{style:{gridColumn:"1 / -1",border:"1px solid #ddd",borderRadius:"8px",padding:"20px",backgroundColor:"#f9f9f9"},children:[(0,i.jsxs)("h2",{children:["Relationships (",(null===(d=f.relationships)||void 0===d?void 0:d.length)||0,")"]}),(0,i.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:null===(n=f.relationships)||void 0===n?void 0:n.slice(0,10).map(e=>(0,i.jsxs)("div",{style:{padding:"10px",marginBottom:"8px",backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,i.jsxs)("div",{style:{fontSize:"14px",marginBottom:"4px"},children:[(0,i.jsx)("strong",{children:e.relation_type})," (Confidence: ",(100*e.confidence).toFixed(0),"%)"]}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[e.entity1_id," â†’ ",e.entity2_id]}),e.condition&&(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#f0ad4e"},children:["Condition: ",e.condition]})]},e.id))})]})]})]})},o=d(2693);function s(){let[e,t]=(0,r.useState)(null),[d,l]=(0,r.useState)(!1);return(0,i.jsx)("div",{style:{minHeight:"100vh",backgroundColor:"#f5f5f5",padding:"20px"},children:(0,i.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[(0,i.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,i.jsx)("h1",{style:{fontSize:"28px",marginBottom:"8px"},children:"Neo4j Entity & Relationship Extraction"}),(0,i.jsx)("p",{style:{color:"#666",fontSize:"16px"},children:"Extract entities and relationships from documents into the Neo4j knowledge graph"})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[(0,i.jsx)("div",{style:{gridColumn:"1",display:"flex",flexDirection:"column"},children:(0,i.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",backgroundColor:"#fff"},children:(0,i.jsx)(n,{})})}),(0,i.jsx)("div",{style:{gridColumn:"2",display:"flex",flexDirection:"column"},children:e?(0,i.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",backgroundColor:"#fff",height:"700px",overflowY:"auto"},children:[(0,i.jsx)("h2",{children:"Graph Visualization"}),(0,i.jsx)(o.Z,{graphData:e,title:"".concat(e.entities.length," Entities, ").concat(e.relationships.length," Relationships")})]}):(0,i.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"40px",backgroundColor:"#f9f9f9",display:"flex",alignItems:"center",justifyContent:"center",height:"500px",textAlign:"center"},children:d?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontSize:"18px",marginBottom:"10px"},children:"Loading graph visualization..."}),(0,i.jsx)("div",{style:{color:"#999",fontSize:"14px"},children:"This may take a moment..."})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontSize:"18px",marginBottom:"10px",color:"#999"},children:"Extract entities to visualize the graph"}),(0,i.jsx)("div",{style:{color:"#bbb",fontSize:"14px"},children:"The graph will appear here after extraction"})]})})})]})]})})}},2693:function(e,t,d){"use strict";var i=d(6846),r=d(4375),l=d(3827),n=d(4090),o=d(5999);let s={DEBT_TYPE:"#FF6B6B",OBLIGATION:"#4ECDC4",RULE:"#45B7D1",GATE:"#FFA07A",MONEY_THRESHOLD:"#98D8C8",CREDITOR:"#F7DC6F",REPAYMENT_TERM:"#BB8FCE",LEGAL_STATUS:"#85C1E2",CLIENT_ATTRIBUTE:"#F8B88B",PERSON:"#82E0AA",ORGANIZATION:"#F5B7B1",DATE:"#D7BDE2",MONEY:"#AED6F1",PERCENT:"#F9E79F",LOCATION:"#D5F4E6",DURATION:"#FADBD8"};t.Z=e=>{let{graphData:t,title:d,onEntityClick:a}=e,x=(0,n.useRef)(null),[p,c]=(0,n.useState)(null),h=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!x.current||!t.entities.length)return;let e=o.Ys(x.current);e.selectAll("*").remove();let d=x.current.clientWidth,l=x.current.clientHeight,n=t.entities.map(e=>(0,i._)({},e)),p=t.relationships.map(e=>(0,r._)((0,i._)({},e),{source:e.entity1_id,target:e.entity2_id})),g=o.A4v(n).force("link",o.Fsl(p).id(e=>e.id).distance(80)).force("charge",o.q5i().strength(-400)).force("center",o.wqt(d/2,l/2)).force("collision",o.Hh().radius(30));h.current=g;let f=e.append("g");e.append("defs").selectAll("marker").data(["arrowhead"]).enter().append("marker").attr("id",e=>e).attr("markerWidth",10).attr("markerHeight",10).attr("refX",28).attr("refY",3).attr("orient","auto").append("polygon").attr("points","0 0, 10 3, 0 6").attr("fill","#999");let y=f.selectAll(".link").data(p).enter().append("line").attr("class","link").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",e=>2+3*e.confidence).attr("marker-end","url(#arrowhead)"),u=f.selectAll(".link-label").data(p).enter().append("text").attr("class","link-label").attr("font-size","11px").attr("fill","#666").attr("text-anchor","middle").text(e=>e.relation_type),b=f.selectAll(".node").data(n).enter().append("circle").attr("class","node").attr("r",25).attr("fill",e=>s[e.entity_type]||"#999").attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer").on("click",(e,t)=>{c(t),null==a||a(t)}),m=f.selectAll(".node-label").data(n).enter().append("text").attr("class","node-label").attr("text-anchor","middle").attr("dy",".3em").attr("font-size","12px").attr("fill","#fff").attr("font-weight","bold").attr("pointer-events","none").text(e=>e.text.substring(0,8));b.append("title").text(e=>"".concat(e.text,"\n").concat(e.entity_type,"\nConfidence: ").concat((100*e.confidence).toFixed(0),"%"));let j=o.sPX().on("zoom",e=>{f.attr("transform",e.transform)});return e.call(j),g.on("tick",()=>{y.attr("x1",e=>e.source.x||0).attr("y1",e=>e.source.y||0).attr("x2",e=>e.target.x||0).attr("y2",e=>e.target.y||0),u.attr("x",e=>((e.source.x||0)+(e.target.x||0))/2).attr("y",e=>((e.source.y||0)+(e.target.y||0))/2),b.attr("cx",e=>e.x||0).attr("cy",e=>e.y||0),m.attr("x",e=>e.x||0).attr("y",e=>e.y||0)}),()=>{g.stop()}},[t,a]),(0,l.jsxs)("div",{style:{width:"100%",height:"100%"},children:[d&&(0,l.jsx)("h3",{style:{margin:"10px 0"},children:d}),(0,l.jsx)("svg",{ref:x,style:{width:"100%",height:"500px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fafafa"}}),p&&(0,l.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#f0f0f0",borderRadius:"4px",border:"1px solid #999"},children:[(0,l.jsxs)("h4",{children:["Selected: ",p.text]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Type:"})," ",p.entity_type]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Confidence:"})," ",(100*p.confidence).toFixed(1),"%"]})]})]})}}},function(e){e.O(0,[908,999,971,69,744],function(){return e(e.s=9099)}),_N_E=e.O()}]);